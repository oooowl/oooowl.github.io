const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/pdf-B7oVat64.CSruJ9ZP.js","assets/chunks/html2canvas.esm-d2sM-0Wm.tnAx6l3B.js","assets/chunks/jspdf.es.min-C660YX78.C_kotyfX.js","assets/chunks/framework.BaNfDZ-f.js","assets/chunks/img-DGzWcJ4Y.DBtx5bnM.js"])))=>i.map(i=>d[i]);
import{a1 as j,B as P,o as s,c as l,N as L,b as V,e as c,aj as Z,w as z,r as w,ak as H,al as E,n as M,G as B,j as g,F as f,C as I,t as k,ao as J,ap as K,a as Q}from"./framework.BaNfDZ-f.js";import{L as U,R as tt,G as et,d as at,e as it,y as Y,v as T,b as X,Y as st,x as lt,n as ot,W as rt,E as nt,a0 as ht,k as ct,a1 as dt,j as ut,h as gt,a as pt,N as Nt,w as ft,a2 as It,O as mt,K as xt,$ as bt,t as Ft,H as yt,a3 as At,X as Lt,c as Ct,p as kt,l as _t,f as wt,o as St}from"../chart.md.hi_nZSnT.js";import{W as Ot}from"./DataTable-DL2agEJ3.DwhyhpBD.js";import{x as vt}from"./Title-DYNLqCCT.D6xZGHSM.js";import{E as Gt,N as $t}from"./Tooltip-CICAYyQj.DC7pN5Ho.js";import{i as zt}from"./usePrinter-8ofTb2MJ.pt_J2AaR.js";import{$ as Mt}from"./Shape-CO_Ak9Zm.UkrUmJI7.js";import{s as Pt,u as Tt}from"./vue-data-ui-Cp7bO_tj.DKBrIOIj.js";import Vt from"./vue-ui-table-sparkline-eg2Qd8ws.BN-ZBFVO.js";import Rt from"./vue-ui-skeleton-B2sRnIXX.C3JvNOY7.js";import{_ as Dt}from"./Slicer-BZfUZr1J.DTx2MfEZ.js";import Wt from"./vue-ui-accordion-D_1fE5EF.ggAyum2g.js";import{c as q}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as Ht}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import"./vue-ui-sparkline-DGJDBArr.CLWc7JoS.js";import"./useResponsive-NZB-WLRF.DbXjWqi_.js";const Et=U(),Bt={name:"vue-ui-xy",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},components:{DataTable:Ot,Shape:Mt,Title:vt,Tooltip:Gt,UserOptions:zt,BaseIcon:Tt,TableSparkline:Vt,Skeleton:Rt,Slicer:Dt,Accordion:Wt,PackageVersion:Ht},data(){this.dataset.forEach((h,u)=>{[null,void 0].includes(h.series)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"series (number[])",index:u})});const e=Math.max(...this.dataset.map(h=>h.series.length)),o={start:0,end:e};return{themePalettes:tt,themes:et,slicerStep:0,selectedScale:null,CTX:null,CANVAS:null,opacity:at,useSafeValues:!0,palette:it,height:600,width:1e3,viewBox:"0 0 1000 600",clientPosition:{x:0,y:0},canvasClientPosition:{x:0,y:0},icons:{line:"line",bar:"bar",plot:"plot"},isFullscreen:!1,isPrinting:!1,isImaging:!1,isTooltip:!1,mutableConfig:{dataLabels:{show:!0},showTooltip:!0,showTable:!1,isStacked:!1,useIndividualScale:!1},selectedSerieIndex:null,selectedRowIndex:null,segregatedSeries:[],uniqueId:U(),step:0,tableStep:0,titleStep:0,slicer:o,__to__:null,maxX:e,showSparklineTable:!0,segregateStep:0,sliderId:Et,fontSizes:{xAxis:18,yAxis:12,dataLabels:20,plotLabels:10},plotRadii:{plot:3,line:3},selectedMinimapIndex:null}},watch:{dataset:{handler(e,o){this.maxX=Math.max(...this.dataset.map(h=>h.series.length)),this.slicer={start:0,end:this.maxX},this.slicerStep+=1,this.segregateStep+=1},deep:!0},config:{handler(e,o){this.FINAL_CONFIG=this.prepareConfig(),this.prepareChart(),this.titleStep+=1,this.tableStep+=1},deep:!0}},computed:{minimap(){if(!this.FINAL_CONFIG.chart.zoom.minimap.show)return[];const e=this.datasetWithIds.filter(a=>!this.segregatedSeries.includes(a.id)),o=Math.max(...e.map(a=>a.series.length)),h=[];for(let a=0;a<o;a+=1)h.push(e.map(t=>t.series[a]||0).reduce((t,m)=>(t||0)+(m||0),0));const u=Math.min(...h);return h.map(a=>a+(u<0?Math.abs(u):0))},customPalette(){return this.convertCustomPalette(this.FINAL_CONFIG.customPalette)},backgroundColor(){return this.FINAL_CONFIG.chart.backgroundColor},slicerColor(){return this.FINAL_CONFIG.chart.zoom.color},allScales(){const e=this.lineSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height,autoScaleYLabels:a.autoScaleYLabels})),o=this.barSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height})),h=this.plotSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height})),u=[...e,...o,...h].flatMap(a=>a).length;return[...e,...o,...h].flatMap((a,t)=>({id:a.id,scaleLabel:a.scaleLabel,name:a.name,color:a.color,scale:a.scale,yOffset:a.yOffset,individualHeight:a.individualHeight,x:this.mutableConfig.isStacked?this.drawingArea.left:this.drawingArea.left/u*(t+1),yLabels:a.scaleYLabels||a.scale.ticks.map(m=>({y:m>=0?a.zero-a.individualHeight*(m/a.max):a.zero+a.individualHeight*Math.abs(m)/a.max,value:m}))}))},isDataset(){return!!this.dataset&&this.dataset.length},chartFont(){const e=document.getElementById(`vue-ui-xy_${this.uniqueId}`);return window.getComputedStyle(e,null).getPropertyValue("font-family")},FINAL_CONFIG:{get:function(){return this.prepareConfig()},set:function(e){return e}},hasHighlightArea(){return Array.isArray(this.FINAL_CONFIG.chart.highlightArea)?this.FINAL_CONFIG.chart.highlightArea.some(e=>e.show):this.FINAL_CONFIG.chart.highlightArea&&this.FINAL_CONFIG.chart.highlightArea.show},highlightAreas(){if(Array.isArray(this.FINAL_CONFIG.chart.highlightArea))return this.FINAL_CONFIG.chart.highlightArea.map(o=>({...o,span:o.from===o.to?1:o.to<o.from?0:o.to-o.from+1}));const e=this.FINAL_CONFIG.chart.highlightArea;return[{...e,span:e.from===e.to?1:e.to<e.from?0:e.to-e.from+1}]},xPadding(){return this.FINAL_CONFIG.chart.grid.position==="middle"?0:this.drawingArea.width/this.maxSeries/2},relativeZero(){return this.niceScale.min>=0?0:Math.abs(this.niceScale.min)},absoluteMax(){return this.niceScale.max+this.relativeZero},datasetWithIds(){return this.useSafeValues?this.dataset.map((e,o)=>({...e,id:`uniqueId_${o}`})):this.dataset},safeDataset(){return this.useSafeValues?this.dataset.map((e,o)=>({...e,series:e.series.map(h=>this.isSafeValue(h)?h:null).slice(this.slicer.start,this.slicer.end),color:this.convertColorToHex(e.color?e.color:this.customPalette[o]?this.customPalette[o]:this.palette[o]),id:`uniqueId_${o}`})):this.dataset},relativeDataset(){return this.safeDataset.map((e,o)=>({...e,series:e.series.map(h=>h+this.relativeZero),absoluteValues:e.series})).filter(e=>!this.segregatedSeries.includes(e.id))},tableSparklineDataset(){return this.relativeDataset.map(e=>{const o=e.absoluteValues.map(h=>[void 0,null].includes(h)?0:h);return{id:e.id,name:e.name,color:e.color,values:this.fillArray(this.maxSeries,o)}})},tableSparklineConfig(){return{responsiveBreakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint,roundingValues:this.FINAL_CONFIG.table.rounding,showAverage:!1,showMedian:!1,showTotal:!1,fontFamily:this.FINAL_CONFIG.chart.fontFamily,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix,colNames:JSON.parse(JSON.stringify(this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values)),thead:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},tbody:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},userOptions:{show:!1}}},absoluteDataset(){return this.safeDataset.map((e,o)=>({absoluteIndex:o,...e,series:e.series.map(h=>h+this.relativeZero),absoluteValues:e.series,segregate:()=>this.segregate(e),isSegregated:this.segregatedSeries.includes(e.id)}))},barSet(){return this.activeSeriesWithStackRatios.filter(e=>e.type==="bar").map((e,o)=>{this.checkAutoScaleError(e);const h=Math.min(...e.absoluteValues.filter(d=>![null,void 0].includes(d))),u=Math.max(...e.absoluteValues.filter(d=>![null,void 0].includes(d))),a={ratios:e.absoluteValues.filter(d=>![null,void 0].includes(d)).map(d=>(d-h)/(u-h)),valueMin:h,valueMax:u<0?0:u},t={max:e.scaleMax||Math.max(...e.absoluteValues)||1,min:e.scaleMin||Math.min(...e.absoluteValues.filter(d=>![void 0,null].includes(d)))>0?0:Math.min(...e.absoluteValues.filter(d=>![null,void 0].includes(d)))},m=e.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,b=1.0000001,N=this.calculateNiceScaleWithExactExtremes(t.min,t.max===t.min?t.max*b:t.max,m),y=this.calculateNiceScaleWithExactExtremes(a.valueMin,a.valueMax===a.valueMin?a.valueMax*b:a.valueMax,m),$=N.min>=0?0:Math.abs(N.min),S=0,G=N.max+$,O=y.max+Math.abs(S),F=this.mutableConfig.isStacked?this.drawingArea.height*(1-e.cumulatedStackRatio):0,C=this.mutableConfig.isStacked?this.drawingArea.height*e.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,v=this.drawingArea.bottom-F-C*$/G,i=this.drawingArea.bottom-F-C*S/O,n=this.absoluteDataset.filter(d=>d.type==="bar").filter(d=>!this.segregatedSeries.includes(d.id)).length,r=e.series.map((d,x)=>{const D=this.mutableConfig.useIndividualScale?(e.absoluteValues[x]+$)/G:this.ratioToMax(d),W=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*x:this.drawingArea.left+this.slot.bar*o+this.slot.bar*x*n-this.barSlot/2-o*this.barPeriodGap;return{yOffset:this.checkNaN(F),individualHeight:this.checkNaN(C),x:this.checkNaN(W),y:this.drawingArea.bottom-F-C*D,value:e.absoluteValues[x],zeroPosition:this.checkNaN(v),individualMax:this.checkNaN(G),comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),p=e.absoluteValues.map(d=>y.min>=0?(d-Math.abs(y.min))/(y.max-Math.abs(y.min)):(d+Math.abs(y.min))/(y.max+Math.abs(y.min))),R=e.series.map((d,x)=>{const D=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*x:this.drawingArea.left-this.slot.bar/2+this.slot.bar*o+this.slot.bar*x*this.absoluteDataset.filter(W=>W.type==="bar").filter(W=>!this.segregatedSeries.includes(W.id)).length;return{yOffset:this.checkNaN(F),individualHeight:this.checkNaN(C),x:this.checkNaN(D),y:this.checkNaN(this.drawingArea.bottom-this.checkNaN(F)-(this.checkNaN(C)*p[x]||0)),value:e.absoluteValues[x],zeroPosition:this.checkNaN(v),individualMax:this.checkNaN(G),comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),A=N.ticks.map(d=>({y:d>=0?v-C*(d/G):v+C*Math.abs(d)/G,value:d,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e})),_=y.ticks.map(d=>{const x=(d-y.min)/(y.max-y.min);return{y:d>=0?i-C*x:i+C*x,value:d,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e}});return{...e,yOffset:F,autoScaleYLabels:_,individualHeight:C,scaleYLabels:e.autoScaling?_:A,individualScale:e.autoScaling?y:N,individualMax:e.autoScaling?O:G,zeroPosition:e.autoScaling?i:v,plots:e.autoScaling?R:r}})},activeSeriesLength(){return this.absoluteDataset.length},activeSeriesWithStackRatios(){return this.assignStackRatios(this.absoluteDataset.filter(e=>!this.segregatedSeries.includes(e.id)))},lineSet(){return this.activeSeriesWithStackRatios.filter(e=>e.type==="line").map(e=>{this.checkAutoScaleError(e);const o=Math.min(...e.absoluteValues.filter(d=>![void 0,null].includes(d))),h=Math.max(...e.absoluteValues.filter(d=>![void 0,null].includes(d)))||1,u={ratios:e.absoluteValues.filter(d=>![null,void 0].includes(d)).map(d=>(d-o)/(h-o)),valueMin:o,valueMax:h},a={max:e.scaleMax||Math.max(...e.absoluteValues)||1,min:e.scaleMin||(Math.min(...e.absoluteValues)>0?0:Math.min(...e.absoluteValues))},t=e.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,m=1.0000001,b=this.calculateNiceScaleWithExactExtremes(a.min,a.max===a.min?a.max*m:a.max,t),N=this.calculateNiceScaleWithExactExtremes(u.valueMin,u.valueMax===u.valueMin?u.valueMax*m:u.valueMax,t),y=b.min>=0?0:Math.abs(b.min),$=0,S=b.max+Math.abs(y),G=N.max+Math.abs($),O=this.mutableConfig.isStacked?this.drawingArea.height*(1-e.cumulatedStackRatio):0,F=this.mutableConfig.isStacked?this.drawingArea.height*e.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,C=this.drawingArea.bottom-O-F*y/S,v=this.drawingArea.bottom-O-F*$/G,i=e.series.map((d,x)=>{const D=this.mutableConfig.useIndividualScale?(e.absoluteValues[x]+Math.abs(y))/S:this.ratioToMax(d);return{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:this.checkNaN(this.drawingArea.bottom-O-F*D),value:e.absoluteValues[x],comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[x]||""}}),n=e.absoluteValues.map(d=>N.min>=0?(d-Math.abs(N.min))/(N.max-Math.abs(N.min)):(d+Math.abs(N.min))/(N.max+Math.abs(N.min))),r=e.series.map((d,x)=>[void 0,null].includes(e.absoluteValues[x])?{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:C,value:e.absoluteValues[x],comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[x]||""}:{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*x),y:this.checkNaN(this.drawingArea.bottom-O-(F*n[x]||0)),value:e.absoluteValues[x],comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[x]||""}),p=this.createSmoothPath(i),R=this.createSmoothPath(r),A=b.ticks.map(d=>({y:d>=0?C-F*(d/S):C+F*Math.abs(d)/S,value:d,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e})),_=N.ticks.map(d=>{const x=(d-N.min)/(N.max-N.min);return{y:d>=0?v-F*x:v+F*x,value:d,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e}});return{...e,yOffset:O,autoScaleYLabels:_,individualHeight:F,scaleYLabels:e.autoScaling?_:A,individualScale:e.autoScaling?N:b,individualMax:e.autoScaling?G:S,zeroPosition:e.autoScaling?v:C,curve:e.autoScaling?R:p,plots:e.autoScaling?r:i,area:e.useArea?this.mutableConfig.useIndividualScale?this.createIndividualArea(e.autoScaling?r:i,e.autoScaling?v:C):this.createArea(i):""}})},plotSet(){return this.activeSeriesWithStackRatios.filter(e=>e.type==="plot").map(e=>{this.checkAutoScaleError(e);const o=Math.min(...e.absoluteValues.filter(A=>![null,void 0].includes(A))),h=Math.max(...e.absoluteValues.filter(A=>![null,void 0].includes(A)))||1,u={ratios:e.absoluteValues.filter(A=>![null,void 0].includes(A)).map(A=>(A-o)/(h-o)),valueMin:o,valueMax:h},a={max:e.scaleMax||Math.max(...e.absoluteValues)||1,min:e.scaleMin||Math.min(...e.absoluteValues)>0?0:Math.min(...e.absoluteValues)},t=e.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,m=1.0000001,b=this.calculateNiceScaleWithExactExtremes(a.min,a.max===a.min?a.max*m:a.max,t),N=this.calculateNiceScaleWithExactExtremes(u.valueMin,u.valueMax===u.valueMin?u.valueMax*m:u.valueMax,t),y=b.min>=0?0:Math.abs(b.min),$=0,S=b.max+y,G=N.max+Math.abs($),O=this.mutableConfig.isStacked?this.drawingArea.height*(1-e.cumulatedStackRatio):0,F=this.mutableConfig.isStacked?this.drawingArea.height*e.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,C=this.drawingArea.bottom-O-F*y/S,v=this.drawingArea.bottom-O-F*$/G,i=e.series.map((A,_)=>{const d=this.mutableConfig.useIndividualScale?(e.absoluteValues[_]+Math.abs(y))/S:this.ratioToMax(A);return{x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*_),y:this.checkNaN(this.drawingArea.bottom-O-F*d),value:e.absoluteValues[_],comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[_]||""}}),n=e.absoluteValues.map(A=>N.min>=0?(A-Math.abs(N.min))/(N.max-Math.abs(N.min)):(A+Math.abs(N.min))/(N.max+Math.abs(N.min))),r=e.series.map((A,_)=>({x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*_),y:this.checkNaN(this.drawingArea.bottom-O-(F*n[_]||0)),value:e.absoluteValues[_],comment:e.comments&&e.comments.slice(this.slicer.start,this.slicer.end)[_]||""})),p=b.ticks.map(A=>({y:A>=0?C-F*(A/S):C+F*Math.abs(A)/S,value:A,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e})),R=N.ticks.map(A=>{const _=(A-N.min)/(N.max-N.min);return{y:A>=0?v-F*_:v+F*_,value:A,prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:e}});return{...e,yOffset:O,autoScaleYLabels:R,individualHeight:F,scaleYLabels:e.autoScaling?R:p,individualScale:e.autoScaling?N:b,individualMax:e.autoScaling?G:S,zeroPosition:e.autoScaling?v:C,plots:e.autoScaling?r:i}})},drawingArea(){const e=this.mutableConfig.useIndividualScale&&this.FINAL_CONFIG.chart.grid.labels.show?this.absoluteDataset.filter(o=>!this.segregatedSeries.includes(o.id)).length*(this.mutableConfig.isStacked?0:this.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth):0;return{top:this.FINAL_CONFIG.chart.padding.top,right:this.width-this.FINAL_CONFIG.chart.padding.right,bottom:this.height-this.FINAL_CONFIG.chart.padding.bottom,left:this.FINAL_CONFIG.chart.padding.left+e,height:this.height-(this.FINAL_CONFIG.chart.padding.top+this.FINAL_CONFIG.chart.padding.bottom),width:this.width-(this.FINAL_CONFIG.chart.padding.right+this.FINAL_CONFIG.chart.padding.left+e)}},max(){return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax?this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax:Math.max(...this.safeDataset.filter(e=>!this.segregatedSeries.includes(e.id)).map(e=>Math.max(...e.series)))},min(){if(this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin!==null)return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin;const e=Math.min(...this.safeDataset.filter(o=>!this.segregatedSeries.includes(o.id)).map(o=>Math.min(...o.series)));return e>0?0:e},niceScale(){return this.calculateNiceScaleWithExactExtremes(this.min,this.max<0?0:this.max,this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps)},maxSeries(){return this.slicer.end-this.slicer.start},timeLabels(){return this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values.slice(this.slicer.start,this.slicer.end)},slot(){return{bar:this.drawingArea.width/this.maxSeries/this.safeDataset.filter(e=>e.type==="bar").filter(e=>!this.segregatedSeries.includes(e.id)).length,plot:this.drawingArea.width/this.maxSeries,line:this.drawingArea.width/this.maxSeries}},barSlot(){const e=this.safeDataset.filter(o=>o.type==="bar").filter(o=>!this.segregatedSeries.includes(o.id)).length;return this.drawingArea.width/this.maxSeries/e-this.barPeriodGap*e},barPeriodGap(){return this.slot.line*this.FINAL_CONFIG.bar.periodGap},maxSlot(){return Math.max(...Object.values(this.slot).filter(e=>e!==1/0))},table(){if(this.safeDataset.length===0)return{head:[],body:[],config:{},columnNames:[]};const e=this.relativeDataset.map(h=>({label:h.name,color:h.color,type:h.type})),o=[];return this.timeLabels.forEach((h,u)=>{const a=[h];this.relativeDataset.forEach(t=>{a.push(this.canShowValue(t.absoluteValues[u])?Number(t.absoluteValues[u].toFixed(this.FINAL_CONFIG.table.rounding)):"")}),o.push(a)}),{head:e,body:o}},dataTable(){const e=this.FINAL_CONFIG.table.showSum;let o=[""].concat(this.relativeDataset.map(t=>t.name));e&&(o=o.concat(' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>'));let h=[];for(let t=0;t<this.maxSeries;t+=1){const m=this.relativeDataset.map(b=>b.absoluteValues[t]??0).reduce((b,N)=>b+N,0);h.push([this.timeLabels[t]??"-"].concat(this.relativeDataset.map(b=>this.applyDataLabel(b.type==="line"?this.FINAL_CONFIG.line.labels.formatter:b.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,b.absoluteValues[t]??0,this.dataLabel({p:b.prefix||this.FINAL_CONFIG.chart.labels.prefix,v:b.absoluteValues[t]??0,s:b.suffix||this.FINAL_CONFIG.chart.labels.suffix,r:this.FINAL_CONFIG.table.rounding})))).concat(e?(m??0).toFixed(this.FINAL_CONFIG.table.rounding):[]))}const u={th:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},td:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},breakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint},a=[this.FINAL_CONFIG.table.columnNames.period].concat(this.relativeDataset.map(t=>t.name)).concat(this.FINAL_CONFIG.table.columnNames.total);return{head:o,body:h,config:u,colNames:a}},dataTooltipSlot(){return{datapoint:this.selectedSeries,seriesIndex:this.selectedSerieIndex,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}},selectedSeries(){return this.relativeDataset.map(e=>({shape:e.shape||null,name:e.name,color:e.color,type:e.type,value:e.absoluteValues.find((o,h)=>h===this.selectedSerieIndex),comments:e.comments||[],prefix:e.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:e.suffix||this.FINAL_CONFIG.chart.labels.suffix}))},tooltipContent(){let e="",o=this.selectedSeries.map(a=>a.value).filter(a=>this.isSafeValue(a)&&a!==null).reduce((a,t)=>Math.abs(a)+Math.abs(t),0);const h=this.timeLabels[this.selectedSerieIndex],u=this.FINAL_CONFIG.chart.tooltip.customFormat;return this.isFunction(u)&&this.functionReturnsString(()=>u({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}))?u({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}):(h&&(e+=`<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid ${this.FINAL_CONFIG.chart.tooltip.borderColor}; width:100%">${h}</div>`),this.selectedSeries.forEach(a=>{if(this.isSafeValue(a.value)){let t="",m="";switch(this.icons[a.type]){case"bar":t=`<svg viewBox="0 0 12 12" height="14" width="14"><rect x="0" y="0" rx="1" stroke="none" height="12" width="12" fill="${a.color}" /></svg>`;break;case"line":!a.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(a.shape)?m=`<circle cx="10" cy="8" r="4" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" />`:a.shape==="triangle"?m=`<path d="${T({plot:{x:10,y:8},radius:4,sides:3,rotation:.52}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="square"?m=`<path d="${T({plot:{x:10,y:8},radius:4,sides:4,rotation:.8}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="diamond"?m=`<path d="${T({plot:{x:10,y:8},radius:4,sides:4,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="pentagon"?m=`<path d="${T({plot:{x:10,y:8},radius:4,sides:5,rotation:.95}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="hexagon"?m=`<path d="${T({plot:{x:10,y:8},radius:4,sides:6,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="star"&&(m=`<polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" points="${Y({plot:{x:10,y:8},radius:4})}" />`),t=`<svg viewBox="0 0 20 12" height="14" width="20"><rect rx="3" x="0" y="6" stroke="none" height="4" width="20" fill="${a.color}" />${m}</svg>`;break;case"plot":if(!a.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(a.shape)){t=`<svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" /></svg>`;break}if(a.shape==="star"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" points="${Y({plot:{x:6,y:6},radius:5})}" /></svg>`;break}if(a.shape==="triangle"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${T({plot:{x:6,y:6},radius:6,sides:3,rotation:.52}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="square"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${T({plot:{x:6,y:6},radius:6,sides:4,rotation:.8}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="diamond"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${T({plot:{x:6,y:6},radius:5,sides:4,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="pentagon"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${T({plot:{x:6,y:6},radius:5,sides:5,rotation:.95}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="hexagon"){t=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${T({plot:{x:6,y:6},radius:5,sides:6,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}}e+=`<div style="display:flex;flex-direction:row; align-items:center;gap:3px;"><div style="width:20px">${t}</div> ${a.name}: <b>${this.FINAL_CONFIG.chart.tooltip.showValue?this.applyDataLabel(a.type==="line"?this.FINAL_CONFIG.line.labels.formatter:a.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,a.value,this.dataLabel({p:a.prefix,v:a.value,s:a.suffix,r:this.FINAL_CONFIG.chart.tooltip.roundingValue}),{datapoint:a}):""}</b> ${this.FINAL_CONFIG.chart.tooltip.showPercentage?`(${X({v:this.checkNaN(Math.abs(a.value)/o*100),s:"%",r:this.FINAL_CONFIG.chart.tooltip.roundingPercentage})})`:""}</div>`,this.FINAL_CONFIG.chart.comments.showInTooltip&&a.comments.length&&a.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]&&(e+=`<div class="vue-data-ui-tooltip-comment" style="background:${a.color}20; padding: 6px; margin-bottom: 6px; border-left: 1px solid ${a.color}">${a.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]}</div>`)}}),`<div style="border-radius:4px;padding:12px;font-variant-numeric: tabular-nums;color:${this.FINAL_CONFIG.chart.tooltip.color}">${e}</div>`)},svg(){return{height:this.height,width:this.width}},yLabels(){return this.niceScale.ticks.map(e=>({y:e>=0?this.zero-this.drawingArea.height*this.ratioToMax(e):this.zero+this.drawingArea.height*this.ratioToMax(Math.abs(e)),value:e,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix}))},zero(){return this.drawingArea.bottom-this.drawingArea.height*this.ratioToMax(this.relativeZero)}},mounted(){this.prepareChart(),document.addEventListener("mousemove",e=>{this.clientPosition={x:e.clientX,y:e.clientY}})},methods:{abbreviate:st,adaptColorToBackground:lt,applyDataLabel:ot,assignStackRatios:rt,calcLinearProgression:nt,calculateNiceScaleWithExactExtremes:ht,checkNaN:ct,closestDecimal:dt,convertColorToHex:ut,convertConfigColors:gt,convertCustomPalette:pt,createCsvContent:Nt,createSmoothPath:ft,createTSpans:It,dataLabel:X,downloadCsv:mt,error:xt,functionReturnsString:bt,hasDeepProperty:Ft,isFunction:yt,isSafeValue:At,objectIsEmpty:Lt,setOpacity:Ct,shiftHue:kt,translateSize:_t,treeShake:wt,useMouse:$t,useNestedProp:q,getHighlightAreaPosition(e){const o=this.drawingArea.left+this.drawingArea.width/this.maxSeries*(e.from-this.slicer.start),h=this.drawingArea.width/(this.slicer.end-this.slicer.start)*e.span<0?1e-5:this.drawingArea.width/(this.slicer.end-this.slicer.start)*e.span;return{x:o<this.drawingArea.left?this.drawingArea.left:o,width:h}},prepareConfig(){const e=St().vue_ui_xy;if(!Object.keys(this.config||{}).length)return e;const o=this.useNestedProp({userConfig:this.config,defaultConfig:e});return this.config&&this.hasDeepProperty(this.config,"chart.highlightArea")&&(Array.isArray(this.config.chart.highlightArea)?o.chart.highlightArea=this.config.chart.highlightArea:o.chart.highlightArea=[this.config.chart.highlightArea]),this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMin")?o.chart.grid.labels.yAxis.scaleMin=this.config.chart.grid.labels.yAxis.scaleMin:o.chart.grid.labels.yAxis.scaleMin=null,this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMax")?o.chart.grid.labels.yAxis.scaleMax=this.config.chart.grid.labels.yAxis.scaleMax:o.chart.grid.labels.yAxis.scaleMax=null,o.theme?{...q({userConfig:this.themes.vue_ui_xy[o.theme]||this.config,defaultConfig:o}),customPalette:this.themePalettes[o.theme]||this.palette}:o},prepareChart(){if(this.objectIsEmpty(this.dataset)?this.error({componentName:"VueUiXy",type:"dataset"}):this.dataset.forEach((e,o)=>{[null,void 0].includes(e.name)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"name (string)",index:o})}),this.FINAL_CONFIG.showWarnings&&this.dataset.forEach(e=>{e.series.forEach((o,h)=>{this.isSafeValue(o)||console.warn(`VueUiXy has detected an unsafe value in your dataset:
-----> The serie '${e.name}' contains the value '${o}' at index ${h}.
'${o}' was converted to null to allow the chart to display.`)})}),this.mutableConfig={dataLabels:{show:!0},showTooltip:this.FINAL_CONFIG.chart.tooltip.show===!0,showTable:this.FINAL_CONFIG.showTable===!0,isStacked:this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked,useIndividualScale:this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},this.FINAL_CONFIG.responsive){const e=this.$refs.chart.parentNode,{height:o,width:h}=e.getBoundingClientRect();let u=null,a=0;this.FINAL_CONFIG.chart.title.show&&(u=this.$refs.chartTitle,a=u.getBoundingClientRect().height);let t=null,m=0;this.FINAL_CONFIG.chart.zoom.show&&this.maxX>6&&this.isDataset&&(t=this.$refs.chartSlicer.$el,m=t.getBoundingClientRect().height);let b=null,N=0;this.FINAL_CONFIG.chart.legend.show&&(b=this.$refs.chartLegend,N=b.getBoundingClientRect().height),this.height=o-a-N-m,this.width=h,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes(),new ResizeObserver(y=>{for(const $ of y)this.$refs.chartTitle&&(a=this.$refs.chartTitle.getBoundingClientRect().height),this.$refs.chartSlicer&&this.$refs.chartSlicer.$el&&(m=this.$refs.chartSlicer.$el.getBoundingClientRect().height),this.$refs.chartLegend&&(N=this.$refs.chartLegend.getBoundingClientRect().height),this.height=$.contentBoxSize[0].blockSize-a-N-m-24,this.width=$.contentBoxSize[0].inlineSize,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes()}).observe(e)}else this.height=this.FINAL_CONFIG.chart.height,this.width=this.FINAL_CONFIG.chart.width,this.viewBox=`0 0 ${this.width} ${this.height}`,this.fontSizes.dataLabels=this.FINAL_CONFIG.chart.grid.labels.fontSize,this.fontSizes.yAxis=this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,this.fontSizes.xAxis=this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,this.fontSizes.plotLabels=this.FINAL_CONFIG.chart.labels.fontSize,this.plotRadii.plot=this.FINAL_CONFIG.plot.radius,this.plotRadii.line=this.FINAL_CONFIG.line.radius},selectMinimapIndex(e){this.selectedMinimapIndex=e},convertSizes(){this.fontSizes.dataLabels=this.translateSize({relator:this.height,adjuster:400,source:this.FINAL_CONFIG.chart.grid.labels.fontSize,threshold:10,fallback:10}),this.fontSizes.yAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,threshold:10,fallback:10}),this.fontSizes.xAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,threshold:10,fallback:10}),this.fontSizes.plotLabels=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.chart.labels.fontSize,threshold:10,fallback:10}),this.plotRadii.plot=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.plot.radius,threshold:1,fallback:1}),this.plotRadii.line=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.line.radius,threshold:1,fallback:1})},toggleStack(){this.mutableConfig.isStacked=!this.mutableConfig.isStacked,this.mutableConfig.isStacked?this.mutableConfig.useIndividualScale=!0:this.mutableConfig.useIndividualScale=this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},toggleTable(){this.mutableConfig.showTable=!this.mutableConfig.showTable},toggleLabels(){this.mutableConfig.dataLabels.show=!this.mutableConfig.dataLabels.show},toggleTooltip(){this.mutableConfig.showTooltip=!this.mutableConfig.showTooltip},checkAutoScaleError(e){e.autoScaling&&(this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale||console.warn(`VueUiXy (datapoint: ${e.name}) : autoScaling only works when config.chart.grid.labels.yAxis.useIndividualScale is set to true`),this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked||console.warn(`VueUiXy (datapoint: ${e.name}) : autoScaling only works when config.chart.grid.labels.yAxis.stacked is set to true`))},createArea(e){if(!e[0])return[-10,-10,"",-10,-10];const o={x:e[0].x,y:this.zero},h={x:e.at(-1).x,y:this.zero},u=[];return e.forEach(a=>{u.push(`${a.x},${a.y} `)}),[o.x,o.y,...u,h.x,h.y].toString()},createIndividualArea(e,o){if(!e[0])return[-10,-10,"",-10,-10];const h={x:e[0]?e[0].x:Math.min(...e.filter(t=>!!t).map(t=>t.x)),y:o},u={x:e.at(-1)?e.at(-1).x:Math.min(...e.filter(t=>!!t).map(t=>t.x)),y:o},a=[];return e.filter(t=>!!t).forEach(t=>{a.push(`${t.x},${t.y} `)}),[h.x,h.y,...a,u.x,u.y].toString()},createStar:Y,createPolygonPath:T,fillArray(e,o){let h=Array(e).fill(0);for(let u=0;u<o.length&&u<e;u+=1)h[u]=o[u];return h},refreshSlicer(){this.slicer={start:0,end:Math.max(...this.dataset.map(e=>e.series.length))},this.slicerStep+=1},calcRectHeight(e){return e.value>=0?this.checkNaN(this.zero-e.y<=0?1e-5:this.zero-e.y):this.checkNaN(e.y-this.zero<=0?1e-5:e.y-this.zero)},calcIndividualHeight(e){return e.value>=0?this.checkNaN(e.zeroPosition-e.y<=0?1e-5:e.zeroPosition-e.y):this.checkNaN(e.y-e.zeroPosition<=0?1e-5:e.zeroPosition-e.y)},calcRectWidth(){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.slot.line-this.drawingArea.width/this.maxSeries*.1:this.slot.bar},calcRectX(e){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?e.x+this.drawingArea.width/this.maxSeries*.05:e.x+this.slot.bar/2},calcRectY(e){return e.value>=0?e.y:this.zero},calcIndividualRectY(e){return e.value>=0?e.y:[null,void 0,NaN,1/0,-1/0].includes(e.zeroPosition)?0:e.zeroPosition},canShowValue(e){return![null,void 0,NaN,1/0,-1/0].includes(e)},findClosestValue(e,o){let h=o[0],u=Math.abs(e-o[0]);for(let a=1;a<o.length;a+=1){const t=Math.abs(e-o[a]);t<u&&o[a]<e&&(h=o[a],u=t)}return h},ratioToMax(e){return e/(this.canShowValue(this.absoluteMax)?this.absoluteMax:1)},selectX(e){this.$emit("selectX",{dataset:this.relativeDataset.map(o=>({name:o.name,value:[null,void 0,NaN].includes(o.absoluteValues[e])?null:o.absoluteValues[e],color:o.color,type:o.type})),index:e,indexLabel:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[e]})},getData(){return this.absoluteDataset.map(e=>({values:e.absoluteValues,color:e.color,name:e.name,type:e.type}))},segregate(e){if(this.segregatedSeries.includes(e.id))this.segregatedSeries=this.segregatedSeries.filter(o=>o!==e.id);else{if(this.segregatedSeries.length+1===this.safeDataset.length)return;this.segregatedSeries.push(e.id)}this.$emit("selectLegend",this.relativeDataset.map(o=>({name:o.name,values:o.absoluteValues,color:o.color,type:o.type}))),this.segregateStep+=1},toggleTooltipVisibility(e,o=null){this.isTooltip=e,e?this.selectedSerieIndex=o:this.selectedSerieIndex=null},toggleFullscreen(e){this.isFullscreen=e,this.step+=1},showSpinnerPdf(){this.isPrinting=!0},async generatePdf(){this.showSpinnerPdf(),clearTimeout(this.__to__),this.isPrinting=!0,this.__to__=setTimeout(async()=>{try{const{default:e}=await j(async()=>{const{default:o}=await import("./pdf-B7oVat64.CSruJ9ZP.js");return{default:o}},__vite__mapDeps([0,1,2,3]));await e({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})}catch(e){console.error("Error generating PDF:",e)}finally{this.isPrinting=!1}},100)},generateCsv(){const e=[[this.FINAL_CONFIG.chart.title.text],[this.FINAL_CONFIG.chart.title.subtitle.text],[""]],o=["",...this.table.head.map(t=>t.label)],h=this.table.body,u=e.concat([o]).concat(h),a=this.createCsvContent(u);this.downloadCsv({csvContent:a,title:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})},showSpinnerImage(){this.isImaging=!0},async generateImage(){this.showSpinnerImage(),clearTimeout(this.__to__),this.isImaging=!0,this.__to__=setTimeout(async()=>{try{const{default:e}=await j(async()=>{const{default:o}=await import("./img-DGzWcJ4Y.DBtx5bnM.js");return{default:o}},__vite__mapDeps([4,1]));await e({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy",format:"png"})}catch(e){console.error("Error generating image:",e)}finally{this.isImaging=!1}},100)}}},Yt=["id"],jt=["viewBox"],Xt={key:0},qt={class:"vue-ui-xy-grid"},Ut=["stroke","x1","x2","y1","y2"],Zt=["stroke","x1","x2","y1","y2"],Jt={key:1},Kt=["x1","x2","y1","y2","stroke"],Qt=["x1","x2","y1","y2","stroke"],te=["x1","x2","y1","y2","stroke"],ee={key:3},ae=["x1","x2","y1","y2","stroke"],ie=["id"],se=["stop-color"],le=["stop-color"],oe=["stop-color"],re=["id"],ne=["stop-color"],he=["stop-color"],ce=["stop-color"],de=["id"],ue=["stop-color"],ge=["stop-color"],pe=["id"],Ne=["stop-color"],fe=["stop-color"],Ie=["id"],me=["stop-color"],xe=["stop-color"],be=["x","y","height","width","fill"],Fe=["x","y","width"],ye=["x","y","height","width","fill"],Ae=["x","y","height","width","rx","fill","stroke","stroke-width"],Le=["width","x","y"],Ce={key:0},ke=["id"],_e=["fill"],we=["x1","x2","y1","y2","stroke","marker-end"],Se=["x","y","font-size","fill"],Oe=["stroke","x1","x2","y1","y2"],ve={key:2},Ge=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],$e=["x","y","width","height","stroke","stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray"],ze={key:4},Me=["x1","x2","y1","y2","stroke","stroke-width"],Pe=["fill","font-size","transform"],Te=["x1","x2","y1","y2","stroke"],Ve=["x","y","font-size","fill"],Re=["x1","x2","y1","y2","stroke"],De=["x","y","font-size","fill"],We=["width","x","y"],He={style:{width:"100%"}},Ee={key:0},Be=["id"],Ye=["fill"],je=["x1","x2","y1","y2","stroke","marker-end"],Xe=["x","y","font-size","fill"],qe=["d","stroke","stroke-width","stroke-dasharray"],Ue={key:1},Ze=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Je={key:0},Ke=["d","fill"],Qe=["d","fill"],ta=["d","stroke","stroke-width","stroke-dasharray"],ea={key:2},aa=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],ia=["width","x","y"],sa={style:{width:"100%"}},la={key:3},oa=["id"],ra=["fill"],na=["x1","x2","y1","y2","stroke","marker-end"],ha=["x","y","font-size","fill"],ca={key:5},da=["x","y","font-size","fill"],ua=["x","y","font-size","fill","font-weight"],ga={key:6},pa=["x","y","font-size","fill"],Na=["x","y"],fa=["x","y"],Ia={key:7},ma=["x","y","font-size","fill"],xa=["x","y"],ba=["x","y"],Fa=["x","y","font-size","fill","innerHTML"],ya=["x","y","font-size","fill","innerHTML"],Aa=["x","y","font-size","fill","innerHTML"],La=["x","y","font-size","fill","innerHTML"],Ca=["x","y","width","height","fill","onMouseenter"],ka=["font-size","fill","transform"],_a=["x","y","font-size","fill"],wa={key:9},Sa=["text-anchor","font-size","fill","transform"],Oa=["x","y","height","width","onMouseenter","onClick"],va={key:10},Ga=["x","y"],$a=["cx","cy","r","fill"],za={key:3,class:"vue-data-ui-watermark"},Ma=["onClick"],Pa={key:0,viewBox:"0 0 20 12",height:"14",width:"20"},Ta=["fill"],Va={key:1,viewBox:"0 0 12 12",height:"14",width:"14"},Ra=["fill"],Da={key:7,ref:"chartLegend"},Wa={style:{display:"flex","flex-direction":"row",gap:"6px","align-items":"center","padding-left":"6px"},"data-html2canvas-ignore":""},Ha=["innerHTML"];function Ea(e,o,h,u,a,t){const m=P("Title"),b=P("UserOptions"),N=P("PackageVersion"),y=P("Shape"),$=P("Skeleton"),S=P("Slicer"),G=P("Tooltip"),O=P("BaseIcon"),F=P("TableSparkline"),C=P("DataTable"),v=P("Accordion");return s(),l("div",{id:`vue-ui-xy_${a.uniqueId}`,class:M(`vue-ui-xy ${a.isFullscreen?"vue-data-ui-wrapper-fullscreen":""} ${t.FINAL_CONFIG.useCssAnimation?"":"vue-ui-dna"}`),ref:"chart",style:L(`background:${t.FINAL_CONFIG.chart.backgroundColor}; color:${t.FINAL_CONFIG.chart.color};width:100%;${t.FINAL_CONFIG.chart.title.text?"":"padding-top:36px"};font-family:${t.FINAL_CONFIG.chart.fontFamily};${t.FINAL_CONFIG.responsive?"height: 100%":""}`)},[t.FINAL_CONFIG.chart.title.show?(s(),l("div",{key:0,ref:"chartTitle",class:"vue-ui-xy-title",style:L(`font-family:${t.FINAL_CONFIG.chart.fontFamily}`)},[(s(),V(m,{key:`title_${a.titleStep}`,config:{title:{cy:"xy-div-title",...t.FINAL_CONFIG.chart.title},subtitle:{cy:"xy-div-subtitle",...t.FINAL_CONFIG.chart.title.subtitle}}},null,8,["config"]))],4)):c("",!0),t.FINAL_CONFIG.chart.userOptions.show&&t.isDataset?(s(),V(b,{ref:"defails",key:`user_options_${a.step}`,backgroundColor:t.FINAL_CONFIG.chart.backgroundColor,color:t.FINAL_CONFIG.chart.color,isPrinting:a.isPrinting,isImaging:a.isImaging,uid:a.uniqueId,hasTooltip:t.FINAL_CONFIG.chart.userOptions.buttons.tooltip&&t.FINAL_CONFIG.chart.tooltip.show,hasPdf:t.FINAL_CONFIG.chart.userOptions.buttons.pdf,hasXls:t.FINAL_CONFIG.chart.userOptions.buttons.csv,hasImg:t.FINAL_CONFIG.chart.userOptions.buttons.img,hasLabel:t.FINAL_CONFIG.chart.userOptions.buttons.labels,hasTable:t.FINAL_CONFIG.chart.userOptions.buttons.table,hasStack:h.dataset.length>1&&t.FINAL_CONFIG.chart.userOptions.buttons.stack,hasFullscreen:t.FINAL_CONFIG.chart.userOptions.buttons.fullscreen,isStacked:a.mutableConfig.isStacked,isFullscreen:a.isFullscreen,chartElement:e.$refs.chart,position:t.FINAL_CONFIG.chart.userOptions.position,isTooltip:a.mutableConfig.showTooltip,titles:{...t.FINAL_CONFIG.chart.userOptions.buttonTitles},onToggleFullscreen:t.toggleFullscreen,onGeneratePdf:t.generatePdf,onGenerateCsv:t.generateCsv,onGenerateImage:t.generateImage,onToggleTable:t.toggleTable,onToggleLabels:t.toggleLabels,onToggleStack:t.toggleStack,onToggleTooltip:t.toggleTooltip},Z({_:2},[e.$slots.optionTooltip?{name:"optionTooltip",fn:z(()=>[w(e.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,e.$slots.optionPdf?{name:"optionPdf",fn:z(()=>[w(e.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,e.$slots.optionCsv?{name:"optionCsv",fn:z(()=>[w(e.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,e.$slots.optionImg?{name:"optionImg",fn:z(()=>[w(e.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,e.$slots.optionTable?{name:"optionTable",fn:z(()=>[w(e.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,e.$slots.optionLabels?{name:"optionLabels",fn:z(()=>[w(e.$slots,"optionLabels",{},void 0,!0)]),key:"5"}:void 0,e.$slots.optionStack?{name:"optionStack",fn:z(()=>[w(e.$slots,"optionStack",{},void 0,!0)]),key:"6"}:void 0,e.$slots.optionFullscreen?{name:"optionFullscreen",fn:z(({toggleFullscreen:i,isFullscreen:n})=>[w(e.$slots,"optionFullscreen",H(E({toggleFullscreen:i,isFullscreen:n})),void 0,!0)]),key:"7"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasLabel","hasTable","hasStack","hasFullscreen","isStacked","isFullscreen","chartElement","position","isTooltip","titles","onToggleFullscreen","onGeneratePdf","onGenerateCsv","onGenerateImage","onToggleTable","onToggleLabels","onToggleStack","onToggleTooltip"])):c("",!0),t.isDataset?(s(),l("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",class:M([{"vue-data-ui-fullscreen--on":a.isFullscreen,"vue-data-ui-fulscreen--off":!a.isFullscreen},"vue-ui-xy-svg"]),width:"100%",viewBox:a.viewBox,style:L(`background: transparent; color:${t.FINAL_CONFIG.chart.color}; font-family:${t.FINAL_CONFIG.chart.fontFamily}`)},[B(N),t.maxSeries>0?(s(),l("g",Xt,[g("g",qt,[t.FINAL_CONFIG.chart.grid.labels.xAxis.showBaseline?(s(),l("line",{key:0,stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.right-t.xPadding,y1:t.drawingArea.bottom,y2:t.drawingArea.bottom,"stroke-linecap":"round"},null,8,Ut)):c("",!0),a.mutableConfig.useIndividualScale?t.FINAL_CONFIG.chart.grid.showHorizontalLines?(s(!0),l(f,{key:2},I(t.allScales,i=>(s(),l("g",null,[i.id===a.selectedScale&&i.yLabels.length?(s(!0),l(f,{key:0},I(i.yLabels,n=>(s(),l("line",{x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.right-t.xPadding,y1:t.checkNaN(n.y),y2:t.checkNaN(n.y),stroke:i.color,"stroke-width":.5,"stroke-linecap":"round"},null,8,Qt))),256)):i.yLabels.length?(s(!0),l(f,{key:1},I(i.yLabels,n=>(s(),l("line",{x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.right-t.xPadding,y1:t.checkNaN(n.y),y2:t.checkNaN(n.y),stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,te))),256)):c("",!0)]))),256)):c("",!0):(s(),l(f,{key:1},[t.FINAL_CONFIG.chart.grid.labels.yAxis.showBaseline?(s(),l("line",{key:0,stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.left+t.xPadding,y1:t.drawingArea.top,y2:t.drawingArea.bottom,"stroke-linecap":"round"},null,8,Zt)):c("",!0),t.FINAL_CONFIG.chart.grid.showHorizontalLines?(s(),l("g",Jt,[(s(!0),l(f,null,I(t.yLabels,i=>(s(),l("line",{x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.right-t.xPadding,y1:t.checkNaN(i.y),y2:t.checkNaN(i.y),stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,Kt))),256))])):c("",!0)],64)),t.FINAL_CONFIG.chart.grid.showVerticalLines?(s(),l("g",ee,[(s(!0),l(f,null,I(t.maxSeries+(t.FINAL_CONFIG.chart.grid.position==="middle"?1:0),(i,n)=>(s(),l("line",{key:`grid_vertical_line_${n}`,x1:t.drawingArea.width/t.maxSeries*n+t.drawingArea.left+t.xPadding,x2:t.drawingArea.width/t.maxSeries*n+t.drawingArea.left+t.xPadding,y1:t.drawingArea.top,y2:t.drawingArea.bottom,"stroke-width":"0.5",stroke:t.FINAL_CONFIG.chart.grid.stroke},null,8,ae))),128))])):c("",!0)]),(s(!0),l(f,null,I(t.barSet,(i,n)=>(s(),l("defs",{key:`def_rect_${n}`},[g("linearGradient",{id:`rectGradient_pos_${n}_${a.uniqueId}`,x2:"0%",y2:"100%"},[g("stop",{offset:"0%","stop-color":i.color},null,8,se),g("stop",{offset:"62%","stop-color":`${t.shiftHue(i.color,.02)}`},null,8,le),g("stop",{offset:"100%","stop-color":`${t.shiftHue(i.color,.05)}`},null,8,oe)],8,ie),g("linearGradient",{id:`rectGradient_neg_${n}_${a.uniqueId}`,x2:"0%",y2:"100%"},[g("stop",{offset:"0%","stop-color":`${t.shiftHue(i.color,.05)}`},null,8,ne),g("stop",{offset:"38%","stop-color":`${t.shiftHue(i.color,.02)}`},null,8,he),g("stop",{offset:"100%","stop-color":i.color},null,8,ce)],8,re)]))),128)),(s(!0),l(f,null,I(t.plotSet,(i,n)=>(s(),l("defs",{key:`def_plot_${n}`},[g("radialGradient",{id:`plotGradient_${n}_${a.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[g("stop",{offset:"0%","stop-color":`${t.shiftHue(i.color,.05)}`},null,8,ue),g("stop",{offset:"100%","stop-color":i.color},null,8,ge)],8,de)]))),128)),(s(!0),l(f,null,I(t.lineSet,(i,n)=>(s(),l("defs",{key:`def_line_${n}`},[g("radialGradient",{id:`lineGradient_${n}_${a.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[g("stop",{offset:"0%","stop-color":`${t.shiftHue(i.color,.05)}`},null,8,Ne),g("stop",{offset:"100%","stop-color":i.color},null,8,fe)],8,pe),g("linearGradient",{id:`areaGradient_${n}_${a.uniqueId}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[g("stop",{offset:"0%","stop-color":`${t.setOpacity(t.shiftHue(i.color,.03),t.FINAL_CONFIG.line.area.opacity)}`},null,8,me),g("stop",{offset:"100%","stop-color":`${t.setOpacity(i.color,t.FINAL_CONFIG.line.area.opacity)}`},null,8,xe)],8,Ie)]))),128)),(s(!0),l(f,null,I(t.highlightAreas,i=>(s(),l("g",null,[i.show?(s(!0),l(f,{key:0},I(i.span,(n,r)=>(s(),l("g",null,[g("rect",{style:L({transition:"none",opacity:i.from+r>=a.slicer.start&&i.from+r<=a.slicer.end-1?1:0}),x:t.drawingArea.left+t.drawingArea.width/t.maxSeries*(i.from+r-a.slicer.start),y:t.drawingArea.top,height:t.drawingArea.height<0?10:t.drawingArea.height,width:t.drawingArea.width/t.maxSeries<0?1e-5:t.drawingArea.width/t.maxSeries,fill:t.setOpacity(i.color,i.opacity)},null,12,be),i.caption.text&&r===0?(s(),l("foreignObject",{key:0,x:t.drawingArea.left+t.drawingArea.width/t.maxSeries*(i.from+r-a.slicer.start)-(i.caption.width==="auto"?0:i.caption.width/2-t.drawingArea.width/t.maxSeries*i.span/2),y:t.drawingArea.top+i.caption.offsetY,style:L({overflow:"visible",opacity:i.to>=a.slicer.start&&i.from<a.slicer.end?1:0}),height:"1",width:i.caption.width==="auto"?t.drawingArea.width/t.maxSeries*i.span:i.caption.width},[g("div",{style:L(`padding:${i.caption.padding}px;text-align:${i.caption.textAlign};font-size:${i.caption.fontSize}px;color:${i.caption.color};font-weight:${i.caption.bold?"bold":"normal"}`)},k(i.caption.text),5)],12,Fe)):c("",!0)]))),256)):c("",!0)]))),256)),g("g",null,[(s(!0),l(f,null,I(t.maxSeries,(i,n)=>(s(),l("g",{key:`tooltip_trap_${n}`},[g("rect",{x:t.drawingArea.left+t.drawingArea.width/t.maxSeries*n,y:t.drawingArea.top,height:t.drawingArea.height<0?10:t.drawingArea.height,width:t.drawingArea.width/t.maxSeries<0?1e-5:t.drawingArea.width/t.maxSeries,fill:[a.selectedMinimapIndex,a.selectedSerieIndex,a.selectedRowIndex].includes(n)?t.setOpacity(t.FINAL_CONFIG.chart.highlighter.color,t.FINAL_CONFIG.chart.highlighter.opacity):"transparent"},null,8,ye)]))),128))]),t.barSet.length?(s(!0),l(f,{key:0},I(t.barSet,(i,n)=>(s(),l("g",{key:`serie_bar_${n}`,class:M(`serie_bar_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`bar_plot_${n}_${p}`},[t.canShowValue(r.value)?(s(),l("rect",{key:0,x:t.calcRectX(r),y:a.mutableConfig.useIndividualScale?t.calcIndividualRectY(r):t.calcRectY(r),height:a.mutableConfig.useIndividualScale?Math.abs(t.calcIndividualHeight(r)):Math.abs(t.calcRectHeight(r)),width:t.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:t.barPeriodGap)<0?1e-5:t.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:t.barPeriodGap),rx:t.FINAL_CONFIG.bar.borderRadius,fill:t.FINAL_CONFIG.bar.useGradient?r.value>=0?`url(#rectGradient_pos_${n}_${a.uniqueId})`:`url(#rectGradient_neg_${n}_${a.uniqueId})`:i.color,stroke:t.FINAL_CONFIG.bar.border.useSerieColor?i.color:t.FINAL_CONFIG.bar.border.stroke,"stroke-width":t.FINAL_CONFIG.bar.border.strokeWidth},null,8,Ae)):c("",!0),r.comment&&t.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:(t.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:t.barPeriodGap)<0?1e-5:t.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:t.barPeriodGap)/2)+t.FINAL_CONFIG.chart.comments.width,x:t.calcRectX(r)-t.FINAL_CONFIG.chart.comments.width/2+t.FINAL_CONFIG.chart.comments.offsetX,y:t.checkNaN(r.y)+t.FINAL_CONFIG.chart.comments.offsetY+6},[w(e.$slots,"plot-comment",{plot:{...r,color:i.color,seriesIndex:n,datapointIndex:p}},void 0,!0)],8,Le)):c("",!0)]))),128)),Object.hasOwn(i,"useProgression")&&i.useProgression===!0&&!isNaN(t.calcLinearProgression(i.plots).trend)?(s(),l("g",Ce,[g("defs",null,[g("marker",{id:`bar_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[g("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:i.color},null,8,_e)],8,ke)]),i.plots.length>1?(s(),l("line",{key:0,x1:t.calcLinearProgression(i.plots).x1,x2:t.calcLinearProgression(i.plots).x2,y1:t.calcLinearProgression(i.plots).y1,y2:t.calcLinearProgression(i.plots).y2,"stroke-width":1,stroke:i.color,"stroke-dasharray":2,"marker-end":`url(#bar_arrow_${n})`},null,8,we)):c("",!0),i.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:t.calcLinearProgression(i.plots).x2,y:t.calcLinearProgression(i.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:i.color},k(t.dataLabel({v:t.calcLinearProgression(i.plots).trend*100,s:"%",r:2})),9,Se)):c("",!0)])):c("",!0)],6))),128)):c("",!0),!a.mutableConfig.useIndividualScale&&t.FINAL_CONFIG.chart.grid.labels.zeroLine.show?(s(),l("line",{key:1,stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.right-t.xPadding,y1:t.checkNaN(t.zero),y2:t.checkNaN(t.zero),"stroke-linecap":"round"},null,8,Oe)):c("",!0),t.FINAL_CONFIG.chart.highlighter.useLine&&(![null,void 0].includes(a.selectedSerieIndex)||a.selectedMinimapIndex!==null)?(s(),l("g",ve,[g("line",{x1:t.drawingArea.left+t.drawingArea.width/t.maxSeries*(a.selectedSerieIndex||a.selectedMinimapIndex)+t.drawingArea.width/t.maxSeries/2,x2:t.drawingArea.left+t.drawingArea.width/t.maxSeries*(a.selectedSerieIndex||a.selectedMinimapIndex)+t.drawingArea.width/t.maxSeries/2,y1:t.drawingArea.top,y2:t.drawingArea.bottom,stroke:t.FINAL_CONFIG.chart.highlighter.color,"stroke-width":t.FINAL_CONFIG.chart.highlighter.lineWidth,"stroke-dasharray":t.FINAL_CONFIG.chart.highlighter.lineDasharray,"stroke-linecap":"round",style:{transition:"none !important",animation:"none !important","pointer-events":"none"}},null,8,Ge)])):c("",!0),t.FINAL_CONFIG.chart.grid.frame.show?(s(),l("rect",{key:3,style:{pointerEvents:"none",transition:"none"},x:t.drawingArea.left+t.xPadding<0?0:t.drawingArea.left+t.xPadding,y:t.drawingArea.top,width:t.drawingArea.width-(t.FINAL_CONFIG.chart.grid.position==="middle"?0:t.drawingArea.width/t.maxSeries)<0?0:t.drawingArea.width-(t.FINAL_CONFIG.chart.grid.position==="middle"?0:t.drawingArea.width/t.maxSeries),height:t.drawingArea.height<0?0:t.drawingArea.height,fill:"transparent",stroke:t.FINAL_CONFIG.chart.grid.frame.stroke,"stroke-width":t.FINAL_CONFIG.chart.grid.frame.strokeWidth,"stroke-linecap":t.FINAL_CONFIG.chart.grid.frame.strokeLinecap,"stroke-linejoin":t.FINAL_CONFIG.chart.grid.frame.strokeLinejoin,"stroke-dasharray":t.FINAL_CONFIG.chart.grid.frame.strokeDasharray},null,8,$e)):c("",!0),t.FINAL_CONFIG.chart.grid.labels.show?(s(),l("g",ze,[a.mutableConfig.useIndividualScale?(s(),l(f,{key:0},[(s(!0),l(f,null,I(t.allScales,i=>(s(),l("g",null,[g("line",{x1:i.x+t.xPadding,x2:i.x+t.xPadding,y1:a.mutableConfig.isStacked?t.checkNaN(t.drawingArea.bottom-i.yOffset-i.individualHeight):t.checkNaN(t.drawingArea.top),y2:a.mutableConfig.isStacked?t.checkNaN(t.drawingArea.bottom-i.yOffset):t.checkNaN(t.drawingArea.bottom),stroke:i.color,"stroke-width":t.FINAL_CONFIG.chart.grid.stroke,"stroke-linecap":"round",style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},null,12,Me)]))),256)),(s(!0),l(f,null,I(t.allScales,i=>(s(),l("g",{style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},[g("text",{fill:i.color,"font-size":a.fontSizes.dataLabels,"text-anchor":"middle",transform:`translate(${i.x-t.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth+5}, ${a.mutableConfig.isStacked?t.drawingArea.bottom-i.yOffset-i.individualHeight/2:t.drawingArea.top+t.drawingArea.height/2}) rotate(-90)`},k(i.name)+" "+k(i.scaleLabel?`- ${i.scaleLabel}`:""),9,Pe),(s(!0),l(f,null,I(i.yLabels,(n,r)=>(s(),l("line",{x1:i.x-3+t.xPadding,x2:i.x+t.xPadding,y1:t.checkNaN(n.y),y2:t.checkNaN(n.y),stroke:i.color,"stroke-width":1,"stroke-linecap":"round"},null,8,Te))),256)),(s(!0),l(f,null,I(i.yLabels,(n,r)=>(s(),l("text",{x:i.x-5+t.xPadding,y:t.checkNaN(n.y)+a.fontSizes.dataLabels/3,"font-size":a.fontSizes.dataLabels,"text-anchor":"end",fill:i.color},k(t.applyDataLabel(t.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,n.value,t.dataLabel({p:n.prefix,v:n.value,s:n.suffix,r:1}),{datapoint:n.datapoint,seriesIndex:r})),9,Ve))),256))],4))),256))],64)):(s(!0),l(f,{key:1},I(t.yLabels,(i,n)=>(s(),l("g",{key:`yLabel_${n}`},[t.canShowValue(i)&&i.value>=t.niceScale.min&&i.value<=t.niceScale.max?(s(),l("line",{key:0,x1:t.drawingArea.left+t.xPadding,x2:t.drawingArea.left-5+t.xPadding,y1:t.checkNaN(i.y),y2:t.checkNaN(i.y),stroke:t.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1","stroke-linecap":"round"},null,8,Re)):c("",!0),i.value>=t.niceScale.min&&i.value<=t.niceScale.max?(s(),l("text",{key:1,x:t.drawingArea.left-7+t.xPadding,y:t.checkNaN(i.y+a.fontSizes.dataLabels/3),"font-size":a.fontSizes.dataLabels,"text-anchor":"end",fill:t.FINAL_CONFIG.chart.grid.labels.color},k(t.canShowValue(i.value)?t.applyDataLabel(t.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,i.value,t.dataLabel({p:i.prefix,v:i.value,s:i.suffix,r:1})):""),9,De)):c("",!0)]))),128))])):c("",!0),(s(!0),l(f,null,I(t.plotSet,(i,n)=>(s(),l("g",{key:`serie_plot_${n}`,class:M(`serie_plot_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`circle_plot_${n}_${p}`},[r&&t.canShowValue(r.value)?(s(),V(y,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(i.shape)?i.shape:"circle",color:t.FINAL_CONFIG.plot.useGradient?`url(#plotGradient_${n}_${a.uniqueId})`:t.FINAL_CONFIG.plot.dot.useSerieColor?i.color:t.FINAL_CONFIG.plot.dot.fill,plot:{x:t.checkNaN(r.x),y:t.checkNaN(r.y)},radius:a.selectedSerieIndex!==null&&a.selectedSerieIndex===p||a.selectedMinimapIndex!==null&&a.selectedMinimapIndex===p?(a.plotRadii.plot||6)*1.5:a.plotRadii.plot||6,stroke:t.FINAL_CONFIG.plot.dot.useSerieColor?t.FINAL_CONFIG.chart.backgroundColor:i.color,strokeWidth:t.FINAL_CONFIG.plot.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):c("",!0),r.comment&&t.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:t.FINAL_CONFIG.chart.comments.width,x:r.x-t.FINAL_CONFIG.chart.comments.width/2+t.FINAL_CONFIG.chart.comments.offsetX,y:r.y+t.FINAL_CONFIG.chart.comments.offsetY+6},[g("div",He,[w(e.$slots,"plot-comment",{plot:{...r,color:i.color,seriesIndex:n,datapointIndex:p}},void 0,!0)])],8,We)):c("",!0)]))),128)),Object.hasOwn(i,"useProgression")&&i.useProgression===!0&&!isNaN(t.calcLinearProgression(i.plots).trend)?(s(),l("g",Ee,[g("defs",null,[g("marker",{id:`plot_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[g("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:i.color},null,8,Ye)],8,Be)]),i.plots.length>1?(s(),l("line",{key:0,x1:t.calcLinearProgression(i.plots).x1,x2:t.calcLinearProgression(i.plots).x2,y1:t.calcLinearProgression(i.plots).y1,y2:t.calcLinearProgression(i.plots).y2,"stroke-width":1,stroke:i.color,"stroke-dasharray":2,"marker-end":`url(#plot_arrow_${n})`},null,8,je)):c("",!0),i.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:t.calcLinearProgression(i.plots).x2,y:t.calcLinearProgression(i.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:i.color},k(t.dataLabel({v:t.calcLinearProgression(i.plots).trend*100,s:"%",r:2})),9,Xe)):c("",!0)])):c("",!0)],6))),128)),(s(!0),l(f,null,I(t.lineSet,(i,n)=>(s(),l("g",{key:`serie_line_${n}`,class:M(`serie_line_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[i.smooth&&i.plots.length>1?(s(),l("path",{key:0,d:`M${i.curve}`,stroke:t.FINAL_CONFIG.chart.backgroundColor,"stroke-width":t.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":i.dashed?t.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,qe)):i.plots.length>1?(s(),l("g",Ue,[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`line_${n}_${p}`},[r&&p<i.plots.length-1&&i.plots[p+1]&&t.canShowValue(r.value)&&t.canShowValue(i.plots[p+1].value)?(s(),l("line",{key:0,x1:r.x,x2:i.plots[p+1].x,y1:r.y,y2:i.plots[p+1].y,stroke:t.FINAL_CONFIG.chart.backgroundColor,"stroke-width":t.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":i.dashed?t.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,Ze)):c("",!0)]))),128))])):c("",!0)],6))),128)),(s(!0),l(f,null,I(t.lineSet,(i,n)=>(s(),l("g",{key:`serie_line_${n}`,class:M(`serie_line_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[i.useArea&&i.plots.length>1?(s(),l("g",Je,[i.smooth?(s(),l("path",{key:0,d:`M ${i.plots[0]?i.plots[0].x:Math.min(...i.plots.filter(r=>!!r).map(r=>r.x))},${a.mutableConfig.isStacked?t.drawingArea.bottom-i.yOffset:t.drawingArea.bottom} ${i.curve} L ${i.plots.at(-1)?i.plots.at(-1).x:t.drawingArea.left+t.slot.line*n+t.slot.line/2},${a.mutableConfig.isStacked?t.drawingArea.bottom-i.yOffset:t.drawingArea.bottom} Z`,fill:t.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${n}_${a.uniqueId})`:t.setOpacity(i.color,t.FINAL_CONFIG.line.area.opacity)},null,8,Ke)):(s(),l("path",{key:1,d:`M${i.area}Z`,fill:t.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${n}_${a.uniqueId})`:t.setOpacity(i.color,t.FINAL_CONFIG.line.area.opacity)},null,8,Qe))])):c("",!0),i.smooth&&i.plots.length>1?(s(),l("path",{key:1,d:`M${i.curve}`,stroke:i.color,"stroke-width":t.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":i.dashed?t.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,ta)):i.plots.length>1?(s(),l("g",ea,[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`line_${n}_${p}`},[r&&p<i.plots.length-1&&i.plots[p+1]&&t.canShowValue(r.value)&&t.canShowValue(i.plots[p+1].value)?(s(),l("line",{key:0,x1:r.x,x2:i.plots[p+1].x,y1:r.y,y2:i.plots[p+1].y,stroke:i.color,"stroke-width":t.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":i.dashed?t.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,aa)):c("",!0)]))),128))])):c("",!0),(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`circle_line_${n}_${p}`},[r&&t.canShowValue(r.value)?(s(),V(y,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(i.shape)?i.shape:"circle",color:t.FINAL_CONFIG.line.useGradient?`url(#lineGradient_${n}_${a.uniqueId})`:t.FINAL_CONFIG.line.dot.useSerieColor?i.color:t.FINAL_CONFIG.line.dot.fill,plot:{x:t.checkNaN(r.x),y:t.checkNaN(r.y)},radius:a.selectedSerieIndex!==null&&a.selectedSerieIndex===p||a.selectedMinimapIndex!==null&&a.selectedMinimapIndex===p?(a.plotRadii.line||6)*1.5:a.plotRadii.line||6,stroke:t.FINAL_CONFIG.line.dot.useSerieColor?t.FINAL_CONFIG.chart.backgroundColor:i.color,strokeWidth:t.FINAL_CONFIG.line.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):c("",!0),r.comment&&t.FINAL_CONFIG.chart.comments.show?(s(),l("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:t.FINAL_CONFIG.chart.comments.width,x:r.x-t.FINAL_CONFIG.chart.comments.width/2+t.FINAL_CONFIG.chart.comments.offsetX,y:r.y+t.FINAL_CONFIG.chart.comments.offsetY+6},[g("div",sa,[w(e.$slots,"plot-comment",{plot:{...r,color:i.color,seriesIndex:n,datapointIndex:p}},void 0,!0)])],8,ia)):c("",!0)]))),128)),Object.hasOwn(i,"useProgression")&&i.useProgression===!0&&!isNaN(t.calcLinearProgression(i.plots).trend)?(s(),l("g",la,[g("defs",null,[g("marker",{id:`line_arrow_${n}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[g("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:i.color},null,8,ra)],8,oa)]),i.plots.length>1?(s(),l("line",{key:0,x1:t.calcLinearProgression(i.plots).x1,x2:t.calcLinearProgression(i.plots).x2,y1:t.calcLinearProgression(i.plots).y1,y2:t.calcLinearProgression(i.plots).y2,"stroke-width":1,stroke:i.color,"stroke-dasharray":2,"marker-end":`url(#line_arrow_${n})`},null,8,na)):c("",!0),i.plots.length>1?(s(),l("text",{key:1,"text-anchor":"middle",x:t.calcLinearProgression(i.plots).x2,y:t.calcLinearProgression(i.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:i.color},k(t.dataLabel({v:t.calcLinearProgression(i.plots).trend*100,s:"%",r:2})),9,ha)):c("",!0)])):c("",!0)],6))),128)),(t.FINAL_CONFIG.bar.labels.show||t.FINAL_CONFIG.bar.serieName.show)&&a.mutableConfig.dataLabels.show?(s(),l("g",ca,[(s(!0),l(f,null,I(t.barSet,(i,n)=>(s(),l("g",{key:`xLabel_bar_${n}`,class:M(`xLabel_bar_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`xLabel_bar_${n}_${p}`},[r&&(!Object.hasOwn(i,"dataLabels")||i.dataLabels===!0)&&t.FINAL_CONFIG.bar.labels.show?(s(),l("text",{key:0,x:a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?r.x+t.slot.line/2:t.calcRectX(r)+t.calcRectWidth()/2-t.barPeriodGap/2,y:t.checkNaN(r.y)+(r.value>0?t.FINAL_CONFIG.bar.labels.offsetY:-t.FINAL_CONFIG.bar.labels.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:t.FINAL_CONFIG.bar.labels.color},k(t.canShowValue(r.value)?t.applyDataLabel(t.FINAL_CONFIG.bar.labels.formatter,r.value,t.dataLabel({p:i.prefix||t.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:i.suffix||t.FINAL_CONFIG.chart.labels.suffix,r:t.FINAL_CONFIG.bar.labels.rounding}),{datapoint:r,serie:i}):""),9,da)):c("",!0),r&&t.FINAL_CONFIG.bar.serieName.show?(s(),l("text",{key:1,x:a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?r.x+t.slot.line/2:r.x+t.calcRectWidth()*1.1,y:r.y+(r.value>0?t.FINAL_CONFIG.bar.serieName.offsetY:-t.FINAL_CONFIG.bar.serieName.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:t.FINAL_CONFIG.bar.serieName.useSerieColor?i.color:t.FINAL_CONFIG.bar.serieName.color,"font-weight":t.FINAL_CONFIG.bar.serieName.bold?"bold":"normal"},k(t.FINAL_CONFIG.bar.serieName.useAbbreviation?t.abbreviate({source:i.name,length:t.FINAL_CONFIG.bar.serieName.abbreviationSize}):i.name),9,ua)):c("",!0)]))),128))],6))),128))])):c("",!0),t.FINAL_CONFIG.plot.labels.show&&a.mutableConfig.dataLabels.show?(s(),l("g",ga,[(s(!0),l(f,null,I(t.plotSet,(i,n)=>(s(),l("g",{key:`xLabel_plot_${n}`,class:M(`xLabel_plot_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`xLabel_plot_${n}_${p}`},[r&&!Object.hasOwn(i,"dataLabels")||i.dataLabels===!0?(s(),l("text",{key:0,x:r.x,y:r.y+t.FINAL_CONFIG.plot.labels.offsetY,"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:t.FINAL_CONFIG.plot.labels.color},k(t.canShowValue(r.value)?t.applyDataLabel(t.FINAL_CONFIG.plot.labels.formatter,r.value,t.dataLabel({p:i.prefix||t.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:i.suffix||t.FINAL_CONFIG.chart.labels.suffix,r:t.FINAL_CONFIG.plot.labels.rounding}),{datapoint:r,serie:i}):""),9,pa)):c("",!0),r&&p===0&&i.useTag&&i.useTag==="start"?(s(),l("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[g("div",{style:L(`padding: 3px; background:${t.setOpacity(i.color,80)};color:${t.adaptColorToBackground(i.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},k(i.name),5)],8,Na)):c("",!0),r&&p===i.plots.length-1&&i.useTag&&i.useTag==="end"?(s(),l("foreignObject",{key:2,x:r.x-i.name.length*(a.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[g("div",{style:L(`padding: 3px; background:${t.setOpacity(i.color,80)};color:${t.adaptColorToBackground(i.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},k(i.name),5)],8,fa)):c("",!0)]))),128))],6))),128))])):c("",!0),t.FINAL_CONFIG.line.labels.show&&a.mutableConfig.dataLabels.show?(s(),l("g",Ia,[(s(!0),l(f,null,I(t.lineSet,(i,n)=>(s(),l("g",{key:`xLabel_line_${n}`,class:M(`xLabel_line_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`xLabel_line_${n}_${p}`},[r&&!Object.hasOwn(i,"dataLabels")||i.dataLabels===!0?(s(),l("text",{key:0,x:r.x,y:r.y+(r.value>0?t.FINAL_CONFIG.line.labels.offsetY:-t.FINAL_CONFIG.line.labels.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:t.FINAL_CONFIG.line.labels.color},k(t.canShowValue(r.value)?t.applyDataLabel(t.FINAL_CONFIG.line.labels.formatter,r.value,t.dataLabel({p:i.prefix||t.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:i.suffix||t.FINAL_CONFIG.chart.labels.suffix,r:t.FINAL_CONFIG.line.labels.rounding}),{datapoint:r,serie:i}):""),9,ma)):c("",!0),r&&p===0&&i.useTag&&i.useTag==="start"?(s(),l("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[g("div",{style:L(`padding: 3px; background:${t.setOpacity(i.color,80)};color:${t.adaptColorToBackground(i.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},k(i.name),5)],8,xa)):c("",!0),r&&p===i.plots.length-1&&i.useTag&&i.useTag==="end"?(s(),l("foreignObject",{key:2,x:r.x-i.name.length*(a.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[g("div",{style:L(`padding: 3px; background:${t.setOpacity(i.color,80)};color:${t.adaptColorToBackground(i.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},k(i.name),5)],8,ba)):c("",!0)]))),128))],6))),128))])):c("",!0),(s(!0),l(f,null,I(t.lineSet,(i,n)=>(s(),l("g",{key:`xLabel_line_${n}`,class:M(`xLabel_line_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`xLabel_line_${n}_${p}`},[r&&p===0&&i.showSerieName&&i.showSerieName==="start"?(s(),l("text",{key:0,x:r.x-a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"end",fill:i.color,innerHTML:t.createTSpans({content:i.name,fontSize:a.fontSizes.plotLabels,fill:i.color,x:r.x-a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Fa)):c("",!0),r&&p===i.plots.length-1&&i.showSerieName&&i.showSerieName==="end"?(s(),l("text",{key:1,x:r.x+a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"start",fill:i.color,innerHTML:t.createTSpans({content:i.name,fontSize:a.fontSizes.plotLabels,fill:i.color,x:r.x+a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,ya)):c("",!0)]))),128))],6))),128)),(s(!0),l(f,null,I(t.plotSet,(i,n)=>(s(),l("g",{key:`xLabel_plot_${n}`,class:M(`xLabel_plot_${n}`),style:L(`opacity:${a.selectedScale?a.selectedScale===i.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(s(!0),l(f,null,I(i.plots,(r,p)=>(s(),l("g",{key:`xLabel_plot_${n}_${p}`},[r&&p===0&&i.showSerieName&&i.showSerieName==="start"?(s(),l("text",{key:0,x:r.x-a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"end",fill:i.color,innerHTML:t.createTSpans({content:i.name,fontSize:a.fontSizes.plotLabels,fill:i.color,x:r.x-a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Aa)):c("",!0),r&&p===i.plots.length-1&&i.showSerieName&&i.showSerieName==="end"?(s(),l("text",{key:1,x:r.x+a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"start",fill:i.color,innerHTML:t.createTSpans({content:i.name,fontSize:a.fontSizes.plotLabels,fill:i.color,x:r.x+a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,La)):c("",!0)]))),128))],6))),128)),a.mutableConfig.useIndividualScale&&!a.mutableConfig.isStacked?(s(!0),l(f,{key:8},I(t.allScales,i=>(s(),l("rect",{x:i.x-t.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,y:t.drawingArea.top,width:t.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,height:t.drawingArea.height<0?10:t.drawingArea.height,fill:a.selectedScale===i.id?t.setOpacity(i.color,20):"transparent",onMouseenter:n=>a.selectedScale=i.id,onMouseleave:o[0]||(o[0]=n=>a.selectedScale=null)},null,40,Ca))),256)):c("",!0),g("g",null,[t.FINAL_CONFIG.chart.grid.labels.axis.yLabel&&!a.mutableConfig.useIndividualScale?(s(),l("text",{key:0,"font-size":a.fontSizes.yAxis,fill:t.FINAL_CONFIG.chart.grid.labels.color,transform:`translate(${a.fontSizes.yAxis+t.FINAL_CONFIG.chart.grid.labels.axis.yLabelOffsetX}, ${t.drawingArea.top+t.drawingArea.height/2}) rotate(-90)`,"text-anchor":"middle",style:{transition:"none"}},k(t.FINAL_CONFIG.chart.grid.labels.axis.yLabel),9,ka)):c("",!0),t.FINAL_CONFIG.chart.grid.labels.axis.xLabel?(s(),l("text",{key:1,"text-anchor":"middle",x:a.width/2,y:t.drawingArea.bottom+a.fontSizes.yAxis+a.fontSizes.xAxis*1.3+t.FINAL_CONFIG.chart.grid.labels.axis.xLabelOffsetY,"font-size":a.fontSizes.yAxis,fill:t.FINAL_CONFIG.chart.grid.labels.color},k(t.FINAL_CONFIG.chart.grid.labels.axis.xLabel),9,_a)):c("",!0)]),t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.show?(s(),l("g",wa,[(s(!0),l(f,null,I(t.timeLabels,(i,n)=>(s(),l("g",{key:`time_label_${n}`},[i&&!t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&!t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||i&&t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&(n===0||n===t.timeLabels.length-1)&&!t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||i&&t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&a.selectedSerieIndex===n&&!t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||i&&!t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo&&n%Math.floor((this.slicer.end-this.slicer.start)/t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.modulo)===0?(s(),l("text",{key:0,"text-anchor":t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation>0?"start":t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle","font-size":a.fontSizes.xAxis,fill:t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.color,transform:`translate(${t.drawingArea.left+t.drawingArea.width/t.maxSeries*n+t.drawingArea.width/t.maxSeries/2}, ${t.drawingArea.bottom+a.fontSizes.xAxis*1.3+t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.yOffset}), rotate(${t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation})`},k(i||""),9,Sa)):c("",!0)]))),128))])):c("",!0),g("g",null,[(s(!0),l(f,null,I(t.maxSeries,(i,n)=>(s(),l("g",{key:`tooltip_trap_${n}`},[g("rect",{"data-cy-trap":"",x:t.drawingArea.left+t.drawingArea.width/t.maxSeries*n,y:t.drawingArea.top,height:t.drawingArea.height<0?10:t.drawingArea.height,width:t.drawingArea.width/t.maxSeries<0?1e-5:t.drawingArea.width/t.maxSeries,fill:"transparent",onMouseenter:r=>t.toggleTooltipVisibility(!0,n),onMouseleave:o[1]||(o[1]=r=>t.toggleTooltipVisibility(!1)),onClick:r=>t.selectX(n)},null,40,Oa)]))),128))]),t.FINAL_CONFIG.chart.timeTag.show&&![null,void 0].includes(a.selectedSerieIndex)?(s(),l("g",va,[(s(),l("foreignObject",{x:t.drawingArea.left+t.drawingArea.width/t.maxSeries*a.selectedSerieIndex-100+t.drawingArea.width/t.maxSeries/2,y:t.drawingArea.bottom,width:"200",height:"40",style:{overflow:"visible !important"}},[g("div",{class:"vue-ui-xy-time-tag",style:L(`width: fit-content;margin: 0 auto;text-align:center;padding:3px 12px;background:${t.FINAL_CONFIG.chart.timeTag.backgroundColor};color:${t.FINAL_CONFIG.chart.timeTag.color};font-size:${t.FINAL_CONFIG.chart.timeTag.fontSize}px`)},k(t.timeLabels[a.selectedSerieIndex]||a.selectedSerieIndex),5)],8,Ga)),g("circle",{cx:t.drawingArea.left+t.drawingArea.width/t.maxSeries*a.selectedSerieIndex+t.drawingArea.width/t.maxSeries/2,cy:t.drawingArea.bottom,r:t.FINAL_CONFIG.chart.timeTag.circleMarker.radius,fill:t.FINAL_CONFIG.chart.timeTag.circleMarker.color},null,8,$a)])):c("",!0)])):c("",!0),w(e.$slots,"svg",{svg:t.svg},void 0,!0)],14,jt)):c("",!0),e.$slots.watermark?(s(),l("div",za,[w(e.$slots,"watermark",H(E({isPrinting:a.isPrinting||a.isImaging})),void 0,!0)])):c("",!0),t.isDataset?c("",!0):(s(),V($,{key:4,config:{type:"line",style:{backgroundColor:t.FINAL_CONFIG.chart.backgroundColor,line:{axis:{color:t.FINAL_CONFIG.chart.grid.stroke},path:{color:t.FINAL_CONFIG.chart.grid.stroke,strokeWidth:.5}}}}},null,8,["config"])),t.FINAL_CONFIG.chart.zoom.show&&a.maxX>6&&t.isDataset?(s(),V(S,{ref:"chartSlicer",key:`slicer_${a.slicerStep}`,background:t.FINAL_CONFIG.chart.zoom.color,fontSize:t.FINAL_CONFIG.chart.zoom.fontSize,useResetSlot:t.FINAL_CONFIG.chart.zoom.useResetSlot,labelLeft:t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[a.slicer.start],labelRight:t.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[a.slicer.end-1],textColor:t.FINAL_CONFIG.chart.color,inputColor:t.FINAL_CONFIG.chart.zoom.color,selectColor:t.FINAL_CONFIG.chart.zoom.highlightColor,borderColor:t.FINAL_CONFIG.chart.backgroundColor,minimap:t.minimap,smoothMinimap:t.FINAL_CONFIG.chart.zoom.minimap.smooth,minimapSelectedColor:t.FINAL_CONFIG.chart.zoom.minimap.selectedColor,minimapSelectionRadius:t.FINAL_CONFIG.chart.zoom.minimap.selectionRadius,minimapLineColor:t.FINAL_CONFIG.chart.zoom.minimap.lineColor,minimapSelectedColorOpacity:t.FINAL_CONFIG.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:a.selectedSerieIndex,minimapIndicatorColor:t.FINAL_CONFIG.chart.zoom.minimap.indicatorColor,max:a.maxX,min:0,valueStart:a.slicer.start,valueEnd:a.slicer.end,start:a.slicer.start,"onUpdate:start":o[2]||(o[2]=i=>a.slicer.start=i),end:a.slicer.end,"onUpdate:end":o[3]||(o[3]=i=>a.slicer.end=i),onReset:t.refreshSlicer,onTrapMouse:t.selectMinimapIndex},{"reset-action":z(({reset:i})=>[w(e.$slots,"reset-action",H(E({reset:i})),void 0,!0)]),_:3},8,["background","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","borderColor","minimap","smoothMinimap","minimapSelectedColor","minimapSelectionRadius","minimapLineColor","minimapSelectedColorOpacity","minimapSelectedIndex","minimapIndicatorColor","max","valueStart","valueEnd","start","end","onReset","onTrapMouse"])):c("",!0),t.FINAL_CONFIG.chart.legend.show?(s(),l("div",{key:6,ref:"chartLegend",class:"vue-ui-xy-legend",style:L(`font-size:${t.FINAL_CONFIG.chart.legend.fontSize}px`)},[(s(!0),l(f,null,I(t.absoluteDataset,(i,n)=>(s(),l("div",{key:`div_legend_item_${n}`,onClick:r=>t.segregate(i),class:M({"vue-ui-xy-legend-item":!0,"vue-ui-xy-legend-item-segregated":a.segregatedSeries.includes(i.id)})},[a.icons[i.type]==="line"?(s(),l("svg",Pa,[g("rect",{x:"0",y:"7",rx:"3",stroke:"none",height:"4",width:"20",fill:i.color},null,8,Ta),B(y,{plot:{x:10,y:9},radius:4,color:i.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(i.shape)?i.shape:"circle",stroke:t.FINAL_CONFIG.chart.backgroundColor,strokeWidth:1},null,8,["color","shape","stroke"])])):(s(),l("svg",Va,[a.icons[i.type]==="bar"?(s(),l("rect",{key:0,x:"0",y:"0",rx:"1",height:"12",width:"12",stroke:"none",fill:i.color},null,8,Ra)):(s(),V(y,{key:1,plot:{x:6,y:6},radius:5,color:i.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(i.shape)?i.shape:"circle"},null,8,["color","shape"]))])),g("span",{style:L(`color:${t.FINAL_CONFIG.chart.legend.color}`)},k(i.name),5)],10,Ma))),128))],4)):(s(),l("div",Da,[w(e.$slots,"legend",{legend:t.absoluteDataset},void 0,!0)],512)),B(G,{show:a.mutableConfig.showTooltip&&a.isTooltip,backgroundColor:t.FINAL_CONFIG.chart.tooltip.backgroundColor,color:t.FINAL_CONFIG.chart.tooltip.color,fontSize:t.FINAL_CONFIG.chart.tooltip.fontSize,borderRadius:t.FINAL_CONFIG.chart.tooltip.borderRadius,borderColor:t.FINAL_CONFIG.chart.tooltip.borderColor,borderWidth:t.FINAL_CONFIG.chart.tooltip.borderWidth,backgroundOpacity:t.FINAL_CONFIG.chart.tooltip.backgroundOpacity,position:t.FINAL_CONFIG.chart.tooltip.position,offsetY:t.FINAL_CONFIG.chart.tooltip.offsetY,parent:e.$refs.chart,content:t.tooltipContent,isCustom:t.FINAL_CONFIG.chart.tooltip.customFormat&&typeof t.FINAL_CONFIG.chart.tooltip.customFormat=="function"},{"tooltip-before":z(()=>[w(e.$slots,"tooltip-before",H(E({...t.dataTooltipSlot})),void 0,!0)]),"tooltip-after":z(()=>[w(e.$slots,"tooltip-after",H(E({...t.dataTooltipSlot})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom"]),t.isDataset?(s(),V(v,{key:8,hideDetails:"",config:{open:a.mutableConfig.showTable,maxHeight:1e4,body:{backgroundColor:t.FINAL_CONFIG.chart.backgroundColor,color:t.FINAL_CONFIG.chart.color},head:{backgroundColor:t.FINAL_CONFIG.chart.backgroundColor,color:t.FINAL_CONFIG.chart.color}}},{content:z(()=>[g("div",{style:L(`${a.isPrinting?"":"max-height:400px"};overflow:auto;width:100%;margin-top:48px`)},[g("div",Wa,[J(g("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=i=>a.showSparklineTable=i)},null,512),[[K,a.showSparklineTable]]),g("div",{onClick:o[5]||(o[5]=i=>a.showSparklineTable=!a.showSparklineTable),style:{cursor:"pointer"}},[B(O,{name:"chartLine",size:20,stroke:t.FINAL_CONFIG.chart.color},null,8,["stroke"])])]),a.showSparklineTable?(s(),V(F,{key:`sparkline_${a.segregateStep}`,dataset:t.tableSparklineDataset,config:t.tableSparklineConfig},null,8,["dataset","config"])):(s(),V(C,{key:`table_${a.tableStep}`,colNames:t.dataTable.colNames,head:t.dataTable.head,body:t.dataTable.body,config:t.dataTable.config,title:`${t.FINAL_CONFIG.chart.title.text}${t.FINAL_CONFIG.chart.title.subtitle.text?` : ${t.FINAL_CONFIG.chart.title.subtitle.text}`:""}`,onClose:o[6]||(o[6]=i=>a.mutableConfig.showTable=!1)},{th:z(({th:i})=>[g("div",{innerHTML:i},null,8,Ha)]),td:z(({td:i})=>[Q(k(isNaN(Number(i))?i:t.dataLabel({p:t.FINAL_CONFIG.chart.labels.prefix,v:i,s:t.FINAL_CONFIG.chart.labels.suffix,r:t.FINAL_CONFIG.table.rounding})),1)]),_:1},8,["colNames","head","body","config","title"]))],4)]),_:1},8,["config"])):c("",!0)],14,Yt)}const oi=Pt(Bt,[["render",Ea],["__scopeId","data-v-fe7409df"]]);export{oi as default};
