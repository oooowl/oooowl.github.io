import{c as v}from"../chart.md.hi_nZSnT.js";import{p as a,h as f,o as y,c as b,r as p,j as x,n as g,N as h,e as $,v as C,x as S}from"./framework.BaNfDZ-f.js";function k({tooltip:e,chart:o,clientPosition:t,positionPreference:i="center",defaultOffsetY:u=24}){const r=a(0),l=a(u);if(e&&o){const{width:n,height:c}=e.getBoundingClientRect(),{right:s,left:d,bottom:m}=o.getBoundingClientRect();i==="center"&&(t.x+n/2>s?r.value=-n+(s-t.x):t.x-n/2<d?r.value=-n+(n-(t.x-d)):r.value=-n/2),i==="right"&&(t.x+n>s?r.value=-n+(s-t.x):r.value=0),i==="left"&&(t.x<d+n?r.value=-n+(n-(t.x-d)):r.value=-n),t.y+c>m&&(l.value=-c-u)}return{top:t.y+l.value,left:t.x+r.value}}function N(e,o,t){C(()=>e.addEventListener(o,t)),S(()=>e.removeEventListener(o,t))}function B(){const e=a(0),o=a(0);return N(window,"mousemove",t=>{e.value=t.clientX,o.value=t.clientY}),{x:e,y:o}}const w=["innerHTML"],O={__name:"Tooltip",props:{backgroundColor:{type:String,default:"#FFFFFF"},color:{type:String,default:"#000000"},content:String,maxWidth:{type:String,default:"300px"},parent:{type:Object},show:{type:Boolean,default:!1},isCustom:{type:Boolean,default:!1},fontSize:{type:[Number,String],default:14},borderRadius:{type:Number,default:4},borderColor:{type:String,default:"#e1e5e8"},borderWidth:{type:Number,default:1},backgroundOpacity:{type:Number,default:100},position:{type:String,default:"center"},offsetY:{type:Number,default:24}},setup(e){const o=e,t=a(null),i=a(B()),u=f(()=>k({tooltip:t.value,chart:o.parent,clientPosition:i.value,positionPreference:o.position,defaultOffsetY:o.offsetY})),r=f(()=>v(o.backgroundColor,o.backgroundOpacity));return(l,n)=>e.show?(y(),b("div",{key:0,ref_key:"tooltip",ref:t,class:g({"vue-data-ui-custom-tooltip":e.isCustom,"vue-data-ui-tooltip":!e.isCustom}),style:h(`pointer-events:none;top:${u.value.top}px;left:${u.value.left}px;${e.isCustom?"":`background:${r.value};color:${e.color};max-width:${e.maxWidth};font-size:${e.fontSize}px`};border-radius:${e.borderRadius}px;border:${e.borderWidth}px solid ${e.borderColor};`)},[p(l.$slots,"tooltip-before"),p(l.$slots,"default"),x("div",{innerHTML:e.content},null,8,w),p(l.$slots,"tooltip-after")],6)):$("",!0)}};export{O as E,B as N};
