import{o as Be,L as Oe,G as Pe,X as Me,K as N,I as We,k as T,Q as Ue,p as E,i as Ee,c as Ge,H as je,$ as He,N as Xe,O as Ye,l as ge}from"../chart.md.hi_nZSnT.js";import{O as De,M as Ke}from"./useResponsive-NZB-WLRF.DbXjWqi_.js";import{x as Qe}from"./Title-DYNLqCCT.D6xZGHSM.js";import{s as qe,i as Je}from"./usePrinter-8ofTb2MJ.pt_J2AaR.js";import{E as Ze}from"./Tooltip-CICAYyQj.DC7pN5Ho.js";import{W as el}from"./DataTable-DL2agEJ3.DwhyhpBD.js";import ll from"./vue-ui-skeleton-B2sRnIXX.C3JvNOY7.js";import{_ as tl}from"./Slicer-BZfUZr1J.DTx2MfEZ.js";import al from"./vue-ui-accordion-D_1fE5EF.ggAyum2g.js";import{c as xe}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as ol}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import{s as il}from"./vue-data-ui-Cp7bO_tj.DKBrIOIj.js";import{h,p as v,q as fe,v as sl,Y as ul,o as i,c as s,b as z,e as c,aj as rl,w as f,r as b,ak as R,al as V,k as p,n as be,N as me,G as ke,j as r,F as _,C as S,t as I,a as nl,P as vl}from"./framework.BaNfDZ-f.js";import"./Shape-CO_Ak9Zm.UkrUmJI7.js";const dl=["id"],yl=["xmlns","viewBox"],cl={key:0},hl=["id"],pl=["stop-color"],gl=["stop-color"],xl=["stop-color"],fl=["id"],bl=["stop-color"],ml=["stop-color"],kl=["stop-color"],wl={key:0},$l=["x1","x2","y1","y2","stroke","stroke-width"],Cl=["x1","x2","y1","y2","stroke","stroke-width"],Nl={key:1},zl=["x1","x2","y1","y2","stroke","stroke-width"],_l=["x","y","font-size","fill","font-weight"],Sl={key:2},Fl=["transform","text-anchor","font-size","fill","font-weight"],Ll=["x1","x2","y1","y2","stroke","stroke-width"],Al={key:0},Tl=["cx","cy","r","fill"],Rl=["cx","cy","r","fill"],Vl={key:1},Il=["x1","x2","y1","y2","stroke","stroke-width"],Bl=["x1","x2","y1","y2","stroke","stroke-width"],Ol=["x","y","height","width","fill","rx"],Pl=["x","y","height","width","fill","rx","stroke","stroke-width"],Ml=["x","y","height","width","fill","onMouseover"],Wl={key:3,class:"vue-data-ui-watermark"},Ul=["innerHTML"],El={__name:"vue-ui-candlestick",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup($,{expose:we}){const k=$,{vue_ui_candlestick:$e}=Be(),F=h(()=>!!k.dataset&&k.dataset.length),m=v(Oe()),Ce=v(null),G=v(!1),j=v(""),H=v(void 0),K=v(0),L=v(null),Q=v(null),q=v(null),J=v(null),B=v(0),Z=v(0),ee=v(0),e=h({get:()=>le(),set:l=>l});function le(){const l=xe({userConfig:k.config,defaultConfig:$e});return l.theme?{...xe({userConfig:Pe.vue_ui_candlestick[l.theme]||k.config,defaultConfig:l})}:l}fe(()=>k.config,l=>{e.value=le(),te(),B.value+=1,ee.value+=1,Z.value+=1},{deep:!0}),fe(()=>k.dataset,l=>{y.value.start=0,y.value.end=l.length,B.value+=1},{deep:!0});const d=v({height:e.value.style.height,width:e.value.style.width,xAxisFontSize:e.value.style.layout.grid.xAxis.dataLabels.fontSize,yAxisFontSize:e.value.style.layout.grid.yAxis.dataLabels.fontSize}),O=v(null);sl(()=>{te()});function te(){if(Me(k.dataset)&&N({componentName:"VueUiCandlestick",type:"dataset"}),e.value.responsive){const l=De(()=>{const{width:o,height:t}=Ke({chart:L.value,title:e.value.style.title.text?Q.value:null,slicer:J.value,legend:q.value});d.value.width=o,d.value.height=t,d.value.xAxisFontSize=ge({relator:Math.min(o,t),adjuster:e.value.style.width,source:e.value.style.layout.grid.xAxis.dataLabels.fontSize,threshold:6,fallback:6}),d.value.yAxisFontSize=ge({relator:Math.min(o,t),adjuster:e.value.style.width,source:e.value.style.layout.grid.yAxis.dataLabels.fontSize,threshold:6,fallback:6})});O.value=new ResizeObserver(l),O.value.observe(L.value.parentNode)}}ul(()=>{O.value&&O.value.disconnect()});const{isPrinting:ae,isImaging:oe,generatePdf:ie,generateImage:se}=qe({elementId:`vue-ui-candlestick_${m.value}`,fileName:e.value.style.title.text||"vue-ui-candlestick"}),w=v({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}),u=h(()=>{const{top:l,right:o,bottom:t,left:a}=e.value.style.layout.padding;return{top:l,right:d.value.width-o,left:a,bottom:d.value.height-t,width:d.value.width-a-o,height:d.value.height-l-t}}),X=h(()=>k.dataset.length),y=v({start:0,end:X.value}),ue=h(()=>k.dataset.slice(y.value.start,y.value.end)),Y=h(()=>(k.dataset.forEach((l,o)=>{[null,void 0].includes(l[0])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"period (index 0)",index:o}),[null,void 0].includes(l[1])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"open (index 1)",index:o}),[null,void 0].includes(l[2])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"high (index 2)",index:o}),[null,void 0].includes(l[3])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"low (index 3)",index:o}),[null,void 0].includes(l[4])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"last (index 4)",index:o}),[null,void 0].includes(l[5])&&N({componentName:"VueUiCandlestick",type:"datasetAttribute",property:"volume (index 5)",index:o})}),ue.value.map(l=>({period:l[0],open:l[1],high:l[2],low:l[3],last:l[4],volume:l[5]})))),n=h(()=>u.value.width/ue.value.length),re=h(()=>({max:Math.max(...Y.value.map(l=>l.high)),min:0})),C=h(()=>We(re.value.min,re.value.max,e.value.style.layout.grid.yAxis.dataLabels.steps));function P(l,o){return{...l,x:T(u.value.left+o*n.value+n.value/2),y:T(u.value.top+(1-l/C.value.max)*u.value.height),value:T(l)}}const g=h(()=>Y.value.map((l,o)=>{const t=P(l.open,o),a=P(l.high,o),x=P(l.low,o),W=P(l.last,o),U=l.last>l.open;return{period:l.period,open:t,high:a,low:x,last:W,volume:l.volume,isBullish:U}}));function Ne(l){return T(l/C.value.max)}const ze=h(()=>C.value.ticks.map(l=>({y:u.value.bottom-u.value.height*Ne(l),value:T(l)}))),_e=h(()=>Y.value.map(l=>l.period)),D=v(null);function Se(l,o){H.value=l,D.value={datapoint:o,seriesIndex:l,series:g.value,config:e.value};const t=e.value.style.tooltip.customFormat;if(je(t)&&He(()=>t({seriesIndex:l,datapoint:o,series:g.value,config:e.value})))j.value=t({seriesIndex:l,datapoint:o,series:g.value,config:e.value});else if(e.value.style.tooltip.show){let a="";const{period:x,open:W,high:U,low:ye,last:ce,volume:he,isBullish:pe}=g.value[l],{period:Gl,open:Ae,high:Te,low:Re,last:Ve,volume:Ie}=e.value.translations;a+=`<div><svg style="margin-right:6px" viewBox="0 0 12 12" height="12" width="12"><rect x="0" y="0" height="12" width="12" rx="${e.value.style.layout.candle.borderRadius*3}" stroke="${e.value.style.layout.candle.stroke}" stroke-width="${e.value.style.layout.candle.strokeWidth}" 
                fill="${e.value.style.layout.candle.gradient.show?pe?`url(#bullish_gradient_${m.value})`:`url(#bearish_gradient_${m.value})`:pe?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish}"/></svg>${x}</div>`,a+=`${Ie} : <b>${isNaN(he)?"-":Number(he.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString()}</b>`,a+=`<div style="margin-top:6px;padding-top:6px;border-top:1px solid ${e.value.style.tooltip.borderColor}">`,a+=`<div>${Ae}: <b>${e.value.style.tooltip.prefix} ${isNaN(W.value)?"-":Number(W.value.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString()} ${e.value.style.tooltip.suffix}</b></div>`,a+=`<div>${Te}: <b>${e.value.style.tooltip.prefix} ${isNaN(U.value)?"-":Number(U.value.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString()} ${e.value.style.tooltip.suffix}</b></div>`,a+=`<div>${Re}: <b>${e.value.style.tooltip.prefix} ${isNaN(ye.value)?"-":Number(ye.value.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString()} ${e.value.style.tooltip.suffix}</b></div>`,a+=`<div>${Ve}: <b>${e.value.style.tooltip.prefix} ${isNaN(ce.value)?"-":Number(ce.value.toFixed(e.value.style.tooltip.roundingValue)).toLocaleString()} ${e.value.style.tooltip.suffix}</b></div>`,a+="</div>",j.value=`<div style="text-align:right">${a}</div>`}G.value=!0}function Fe(){y.value={start:0,end:X.value},B.value+=1}function ne(){vl(()=>{const l=[e.value.translations.period,e.value.translations.open,e.value.translations.high,e.value.translations.low,e.value.translations.last,e.value.translations.volume],o=g.value.map(x=>[x.period,x.open.value,x.high.value,x.low.value,x.last.value,x.volume]),t=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([l]).concat(o),a=Xe(t);Ye({csvContent:a,title:e.value.style.title.text||"vue-ui-candlestick"})})}const M=h(()=>{const l=g.value.map(a=>[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" height="12" width="12" style="margin-right: 6px"><rect x="0" y="0" height="12" width="12" :rx="${e.value.style.layout.candle.borderRadius*3}" fill="${e.value.style.layout.candle.gradient.show?a.isBullish?`url(#bullish_gradient_${m.value}`:`url(#bearish_gradient_${m.value})`:a.isBullish?e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.colors.bearish}"/></svg> ${a.period}`,`${e.value.table.td.prefix} ${isNaN(a.open.value)?"-":Number(a.open.value.toFixed(e.value.table.td.roundingValue)).toLocaleString()} ${e.value.table.td.suffix}`,`${e.value.table.td.prefix} ${isNaN(a.high.value)?"-":Number(a.high.value.toFixed(e.value.table.td.roundingValue)).toLocaleString()} ${e.value.table.td.suffix}`,`${e.value.table.td.prefix} ${isNaN(a.low.value)?"-":Number(a.low.value.toFixed(e.value.table.td.roundingValue)).toLocaleString()} ${e.value.table.td.suffix}`,`${e.value.table.td.prefix} ${isNaN(a.last.value)?"-":Number(a.last.value.toFixed(e.value.table.td.roundingValue)).toLocaleString()} ${e.value.table.td.suffix}`,`${isNaN(a.volume)?"-":a.volume.toLocaleString()}`]),o={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint},t=[e.value.translations.period,e.value.translations.open,e.value.translations.high,e.value.translations.low,e.value.translations.last,e.value.translations.volume];return{head:t,body:l,config:o,colNames:t}}),A=v(!1);function Le(l){A.value=l,K.value+=1}function ve(){w.value.showTable=!w.value.showTable}function de(){w.value.showTooltip=!w.value.showTooltip}return we({generatePdf:ie,generateCsv:ne,generateImage:se,toggleTable:ve,toggleTooltip:de}),(l,o)=>(i(),s("div",{ref_key:"candlestickChart",ref:L,class:be(`vue-ui-candlestick ${A.value?"vue-data-ui-wrapper-fullscreen":""} ${e.value.useCssAnimation?"":"vue-ui-dna"}`),style:me(`position:relative;font-family:${e.value.style.fontFamily}; text-align:center;${e.value.style.title.text?"":"padding-top:36px"};background:${e.value.style.backgroundColor}; ${e.value.responsive?"height: 100%":""}`),id:`vue-ui-candlestick_${m.value}`},[e.value.style.title.text?(i(),s("div",{key:0,ref_key:"chartTitle",ref:Q,style:"width:100%;background:transparent"},[(i(),z(Qe,{key:`title_${ee.value}`,config:{title:{cy:"candlestick-div-title",...e.value.style.title},subtitle:{cy:"candlestick-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):c("",!0),e.value.userOptions.show&&F.value?(i(),z(Je,{ref_key:"details",ref:Ce,key:`user_options_${K.value}`,backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:p(oe),isPrinting:p(ae),uid:m.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isFullscreen:A.value,isTooltip:w.value.showTooltip,titles:{...e.value.userOptions.buttonTitles},chartElement:L.value,position:e.value.userOptions.position,onToggleFullscreen:Le,onGeneratePdf:p(ie),onGenerateCsv:ne,onGenerateImage:p(se),onToggleTable:ve,onToggleTooltip:de},rl({_:2},[l.$slots.optionTooltip?{name:"optionTooltip",fn:f(()=>[b(l.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,l.$slots.optionPdf?{name:"optionPdf",fn:f(()=>[b(l.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,l.$slots.optionCsv?{name:"optionCsv",fn:f(()=>[b(l.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,l.$slots.optionImg?{name:"optionImg",fn:f(()=>[b(l.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,l.$slots.optionTable?{name:"optionTable",fn:f(()=>[b(l.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,l.$slots.optionFullscreen?{name:"optionFullscreen",fn:f(({toggleFullscreen:t,isFullscreen:a})=>[b(l.$slots,"optionFullscreen",R(V({toggleFullscreen:t,isFullscreen:a})),void 0,!0)]),key:"5"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasXls","hasTable","hasFullscreen","isFullscreen","isTooltip","titles","chartElement","position","onGeneratePdf","onGenerateImage"])):c("",!0),F.value?(i(),s("svg",{key:2,xmlns:p(Ue),class:be({"vue-data-ui-fullscreen--on":A.value,"vue-data-ui-fulscreen--off":!A.value}),viewBox:`0 0 ${d.value.width<=0?10:d.value.width} ${d.value.height<=0?10:d.value.height}`,style:me(`max-width:100%;overflow:visible;background:transparent;color:${e.value.style.color}`)},[ke(ol),g.value.length>0?(i(),s("g",cl,[r("defs",null,[r("linearGradient",{id:`bearish_gradient_${m.value}`,x2:"0%",y2:"100%"},[r("stop",{offset:"0%","stop-color":e.value.style.layout.candle.colors.bearish},null,8,pl),r("stop",{offset:"50%","stop-color":`${p(E)(e.value.style.layout.candle.colors.bearish,.02)}DE`},null,8,gl),r("stop",{offset:"100%","stop-color":`${p(E)(e.value.style.layout.candle.colors.bearish,.05)}66`},null,8,xl)],8,hl),r("linearGradient",{id:`bullish_gradient_${m.value}`,x2:"0%",y2:"100%"},[r("stop",{offset:"0%","stop-color":e.value.style.layout.candle.colors.bullish},null,8,bl),r("stop",{offset:"50%","stop-color":`${p(E)(e.value.style.layout.candle.colors.bullish,.02)}DE`},null,8,ml),r("stop",{offset:"100%","stop-color":`${p(E)(e.value.style.layout.candle.colors.bullish,.05)}66`},null,8,kl)],8,fl)]),e.value.style.layout.grid.show?(i(),s("g",wl,[r("line",{x1:u.value.left,x2:u.value.left,y1:u.value.top,y2:u.value.bottom,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,$l),r("line",{x1:u.value.left,x2:u.value.right,y1:u.value.bottom,y2:u.value.bottom,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,Cl)])):c("",!0),e.value.style.layout.grid.yAxis.dataLabels.show?(i(),s("g",Nl,[(i(!0),s(_,null,S(ze.value,(t,a)=>(i(),s("g",null,[t.value>=C.value.min&&t.value<=C.value.max?(i(),s("line",{key:0,x1:u.value.left,x2:u.value.left-5,y1:t.y,y2:t.y,stroke:e.value.style.layout.grid.stroke,"stroke-width":e.value.style.layout.grid.strokeWidth,"stroke-linecap":"round"},null,8,zl)):c("",!0),t.value>=C.value.min&&t.value<=C.value.max?(i(),s("text",{key:1,x:u.value.left-8+e.value.style.layout.grid.yAxis.dataLabels.offsetX,y:t.y+d.value.yAxisFontSize/3,"font-size":d.value.yAxisFontSize,"text-anchor":"end",fill:e.value.style.layout.grid.yAxis.dataLabels.color,"font-weight":e.value.style.layout.grid.yAxis.dataLabels.bold?"bold":"normal"},I(e.value.style.layout.grid.yAxis.dataLabels.prefix)+" "+I(p(Ee)(t.value)?t.value.toFixed(e.value.style.layout.grid.yAxis.dataLabels.roundingValue):"")+" "+I(e.value.style.layout.grid.yAxis.dataLabels.suffix),9,_l)):c("",!0)]))),256))])):c("",!0),e.value.style.layout.grid.xAxis.dataLabels.show?(i(),s("g",Sl,[(i(!0),s(_,null,S(_e.value,(t,a)=>(i(),s("g",null,[r("text",{transform:`translate(${u.value.left+n.value*a+n.value/2}, ${u.value.bottom+d.value.xAxisFontSize*2+e.value.style.layout.grid.xAxis.dataLabels.offsetY}), rotate(${e.value.style.layout.grid.xAxis.dataLabels.rotation})`,"text-anchor":e.value.style.layout.grid.xAxis.dataLabels.rotation>0?"start":e.value.style.layout.grid.xAxis.dataLabels.rotation<0?"end":"middle","font-size":d.value.xAxisFontSize,fill:e.value.style.layout.grid.xAxis.dataLabels.color,"font-weight":e.value.style.layout.grid.xAxis.dataLabels.bold?"bold":"normal"},I(t),9,Fl)]))),256))])):c("",!0),r("g",null,[(i(!0),s(_,null,S(g.value,(t,a)=>(i(),s("g",null,[r("line",{x1:t.open.x,x2:t.open.x,y1:t.high.y,y2:t.low.y,stroke:e.value.style.layout.wick.stroke,"stroke-width":e.value.style.layout.wick.strokeWidth,"stroke-linecap":"round"},null,8,Ll),e.value.style.layout.wick.extremity.shape==="circle"?(i(),s("g",Al,[r("circle",{cx:t.high.x,cy:t.high.y,r:e.value.style.layout.wick.extremity.size==="auto"?n.value/20:e.value.style.layout.wick.extremity.size,fill:e.value.style.layout.wick.extremity.color},null,8,Tl),r("circle",{cx:t.low.x,cy:t.low.y,r:e.value.style.layout.wick.extremity.size==="auto"?n.value/20:e.value.style.layout.wick.extremity.size,fill:e.value.style.layout.wick.extremity.color},null,8,Rl)])):c("",!0),e.value.style.layout.wick.extremity.shape==="line"?(i(),s("g",Vl,[r("line",{x1:t.high.x-(e.value.style.layout.wick.extremity.size==="auto"?n.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,x2:t.high.x+(e.value.style.layout.wick.extremity.size==="auto"?n.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,y1:t.high.y,y2:t.high.y,stroke:e.value.style.layout.wick.extremity.color,"stroke-width":e.value.style.layout.wick.strokeWidth,"stroke-linecap":"round"},null,8,Il),r("line",{x1:t.low.x-(e.value.style.layout.wick.extremity.size==="auto"?n.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,x2:t.low.x+(e.value.style.layout.wick.extremity.size==="auto"?n.value*e.value.style.layout.candle.widthRatio:e.value.style.layout.wick.extremity.size)/2,y1:t.low.y,y2:t.low.y,stroke:e.value.style.layout.wick.extremity.color,"stroke-width":e.value.style.layout.wick.strokeWidth,"stroke-linecap":"round"},null,8,Bl)])):c("",!0)]))),256))]),r("g",null,[(i(!0),s(_,null,S(g.value,(t,a)=>(i(),s("rect",{x:t.open.x-n.value/2+n.value*(1-e.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.last.y:t.open.y,height:Math.abs(t.last.y-t.open.y)<=0?1e-4:Math.abs(t.last.y-t.open.y),width:n.value*e.value.style.layout.candle.widthRatio<=0?1e-4:n.value*e.value.style.layout.candle.widthRatio,fill:e.value.style.layout.candle.gradient.underlayer,rx:e.value.style.layout.candle.borderRadius,stroke:"none"},null,8,Ol))),256)),(i(!0),s(_,null,S(g.value,(t,a)=>(i(),s("rect",{x:t.open.x-n.value/2+n.value*(1-e.value.style.layout.candle.widthRatio)/2,y:t.isBullish?t.last.y:t.open.y,height:Math.abs(t.last.y-t.open.y)<=0?1e-4:Math.abs(t.last.y-t.open.y),width:n.value*e.value.style.layout.candle.widthRatio<=0?1e-4:n.value*e.value.style.layout.candle.widthRatio,fill:t.isBullish?e.value.style.layout.candle.gradient.show?`url(#bullish_gradient_${m.value})`:e.value.style.layout.candle.colors.bullish:e.value.style.layout.candle.gradient.show?`url(#bearish_gradient_${m.value})`:e.value.style.layout.candle.colors.bearish,rx:e.value.style.layout.candle.borderRadius,stroke:e.value.style.layout.candle.stroke,"stroke-width":e.value.style.layout.candle.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,Pl))),256))]),r("g",null,[(i(!0),s(_,null,S(g.value,(t,a)=>(i(),s("rect",{x:u.value.left+a*n.value,y:u.value.top,height:u.value.height<=0?1e-4:u.value.height,width:n.value<=0?1e-4:n.value,fill:H.value===a?p(Ge)(e.value.style.layout.selector.color,e.value.style.layout.selector.opacity):"transparent",onMouseover:x=>Se(a,t),onMouseleave:o[0]||(o[0]=x=>{H.value=void 0,G.value=!1})},null,40,Ml))),256))])])):c("",!0),b(l.$slots,"svg",{svg:d.value},void 0,!0)],14,yl)):c("",!0),l.$slots.watermark?(i(),s("div",Wl,[b(l.$slots,"watermark",R(V({isPrinting:p(ae)||p(oe)})),void 0,!0)])):c("",!0),F.value?c("",!0):(i(),z(ll,{key:4,config:{type:"candlesticks",style:{backgroundColor:e.value.style.backgroundColor,candlesticks:{axis:{color:"#CCCCCC"},candle:{color:"#CCCCCC"}}}}},null,8,["config"])),e.value.style.zoom.show&&F.value?(i(),s("div",{key:5,ref_key:"chartSlicer",ref:J},[(i(),z(tl,{key:`slicer_${B.value}`,background:e.value.style.zoom.color,borderColor:e.value.style.backgroundColor,fontSize:e.value.style.zoom.fontSize,useResetSlot:e.value.style.zoom.useResetSlot,labelLeft:$.dataset[y.value.start]?$.dataset[y.value.start][0]:$.dataset[0][0],labelRight:$.dataset[y.value.end-1]?$.dataset[y.value.end-1][0]:$.dataset.at(-1)[0],textColor:e.value.style.color,inputColor:e.value.style.zoom.color,selectColor:e.value.style.zoom.highlightColor,max:X.value,min:0,valueStart:y.value.start,valueEnd:y.value.end,start:y.value.start,"onUpdate:start":o[1]||(o[1]=t=>y.value.start=t),end:y.value.end,"onUpdate:end":o[2]||(o[2]=t=>y.value.end=t),onReset:Fe},{"reset-action":f(({reset:t})=>[b(l.$slots,"reset-action",R(V({reset:t})),void 0,!0)]),_:3},8,["background","borderColor","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","max","valueStart","valueEnd","start","end"]))],512)):c("",!0),r("div",{ref_key:"chartLegend",ref:q},[b(l.$slots,"legend",{legend:g.value},void 0,!0)],512),ke(Ze,{show:w.value.showTooltip&&G.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:L.value,content:j.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function"},{"tooltip-before":f(()=>[b(l.$slots,"tooltip-before",R(V({...D.value})),void 0,!0)]),"tooltip-after":f(()=>[b(l.$slots,"tooltip-after",R(V({...D.value})),void 0,!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isCustom"]),F.value?(i(),z(al,{key:6,hideDetails:"",config:{open:w.value.showTable,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}},{content:f(()=>[(i(),z(el,{key:`table_${Z.value}`,colNames:M.value.colNames,head:M.value.head,body:M.value.body,config:M.value.config,title:`${e.value.style.title.text}${e.value.style.title.subtitle.text?` : ${e.value.style.title.subtitle.text}`:""}`,onClose:o[3]||(o[3]=t=>w.value.showTable=!1)},{th:f(({th:t})=>[nl(I(t),1)]),td:f(({td:t})=>[r("div",{innerHTML:t},null,8,Ul)]),_:1},8,["colNames","head","body","config","title"]))]),_:1},8,["config"])):c("",!0)],14,dl))}},ot=il(El,[["__scopeId","data-v-51dc0cb1"]]);export{ot as default};
