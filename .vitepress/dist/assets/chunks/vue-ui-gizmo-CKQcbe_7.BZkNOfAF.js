import{o as x,L as C,K as z,n as k,b as g}from"../chart.md.hi_nZSnT.js";import{c as G}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as _}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import{p as b,v as L,h as d,q as $,o as r,c as s,G as B,j as t,e as l,F as m,t as p,k as u,N}from"./framework.BaNfDZ-f.js";const V=["viewBox","width"],M={key:0},P=["id"],F=["stop-color"],S=["stop-color"],j=["stroke"],D=["stroke"],K=["width","fill"],U=["fill"],q={key:0},E=["id"],I=t("feGaussianBlur",{in:"SourceGraphic",stdDeviation:1},null,-1),O=[I],A=["stroke"],H=["stroke","stroke-dasharray","stroke-dashoffset"],J=["filter"],Q=["stroke","stroke-dasharray","stroke-dashoffset"],R=["fill"],Z={__name:"vue-ui-gizmo",props:{config:{type:Object,default(){return{}}},dataset:{type:Number,default:0}},setup(f){const a=f,{vue_ui_gizmo:w}=x(),i=b(C());L(()=>{c()});function c(){!a.dataset&&a.dataset!==0&&z({componentName:"VueUiGizmo",type:"dataset"}),a.dataset<0&&console.warn("VueUiGizmo: dataset cannot be negative.")}const e=d({get:()=>h(),set:o=>o});function h(){return G({userConfig:a.config,defaultConfig:w})}$(()=>a.config,o=>{e.value=h(),c()},{deep:!0});const v=d(()=>({battery:{width:e.value.showPercentage?140:80,height:50},gauge:{width:80,height:80}})[e.value.type]),n=d(()=>{const o=2*Math.PI*35,y=o-a.dataset/100*o;return{dasharray:`${o} ${o}`,dashoffset:y}});return(o,y)=>(r(),s("svg",{class:"vue-ui-gizmo",viewBox:`0 0 ${v.value.width} ${v.value.height}`,width:e.value.size,style:N({background:"transparent",fontFamily:e.value.fontFamily})},[B(_),e.value.useGradient?(r(),s("defs",M,[t("linearGradient",{id:`gizmo_gradient_${i.value}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[t("stop",{offset:"0%","stop-color":e.value.gradientColor},null,8,F),t("stop",{offset:"100%","stop-color":e.value.color},null,8,S)],8,P)])):l("",!0),e.value.type==="battery"?(r(),s(m,{key:1},[t("path",{d:"M 5 10 L 5 40 C 5 43 7 45 9 45 L 65 45 C 68 45 70 43 70 40 L 70 38 C 73 38 75 38 75 33 L 75 17 C 75 12 73 12 70 12 L 70 10 C 70 7 68 5 65 5 L 10 5 C 7 5 5 7 5 10",stroke:e.value.stroke,"stroke-width":2,fill:"none"},null,8,j),t("path",{d:"M 70 16 L 70 34",stroke:e.value.stroke,"stroke-width":2,fill:"none",style:{opacity:"0.5"}},null,8,D),t("rect",{x:10,y:10,height:30,width:55*(f.dataset/100),fill:e.value.useGradient?`url(#gizmo_gradient_${i.value})`:e.value.color,rx:2},null,8,K),e.value.showPercentage?(r(),s("text",{key:0,x:85,y:32,"text-anchor":"start","font-size":"20",fill:e.value.textColor},p(u(k)(e.value.formatter,a.dataset,u(g)({v:a.dataset,s:"%"}))),9,U)):l("",!0)],64)):l("",!0),e.value.type==="gauge"?(r(),s(m,{key:2},[e.value.useGradient?(r(),s("defs",q,[t("filter",{id:`blur_${i.value}`,x:"-50%",y:"-50%",width:"200%",height:"200%"},O,8,E)])):l("",!0),t("circle",{cx:40,cy:40,r:35,stroke:e.value.stroke,"stroke-width":2*4,fill:"none"},null,8,A),t("circle",{cx:40,cy:40,r:35,stroke:e.value.color,"stroke-width":2*4,"stroke-dasharray":n.value.dasharray,"stroke-dashoffset":n.value.dashoffset,"stroke-linecap":"round",fill:"none",style:{transform:"rotate(-90deg)","transform-origin":"50% 50%"}},null,8,H),e.value.useGradient?(r(),s("g",{key:1,filter:`url(#blur_${i.value})`},[t("circle",{cx:40,cy:40,r:35,stroke:e.value.gradientColor,"stroke-width":1,fill:"none","stroke-dasharray":n.value.dasharray,"stroke-dashoffset":n.value.dashoffset,style:{transform:"rotate(-90deg)","transform-origin":"50% 50%"}},null,8,Q)],8,J)):l("",!0),e.value.showPercentage?(r(),s("text",{key:2,x:40,y:47,"text-anchor":"middle","font-size":"20",fill:e.value.textColor},p(u(k)(e.value.formatter,a.dataset,u(g)({v:a.dataset,s:"%"}))),9,R)):l("",!0)],64)):l("",!0)],12,V))}};export{Z as default};
