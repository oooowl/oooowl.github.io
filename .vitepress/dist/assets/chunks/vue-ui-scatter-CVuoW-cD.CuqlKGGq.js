import{o as He,L as Ue,G as Ke,R as Qe,e as D,X as Je,K as de,a as Ze,q as Oe,w as el,S as ll,Q as tl,F as al,c as ce,n as Y,k as $,b as W,H as ol,$ as sl,N as ul,O as il}from"../chart.md.hi_nZSnT.js";import{O as rl,M as nl}from"./useResponsive-NZB-WLRF.DbXjWqi_.js";import{x as vl}from"./Title-DYNLqCCT.D6xZGHSM.js";import{s as yl,i as dl}from"./usePrinter-8ofTb2MJ.pt_J2AaR.js";import{E as cl}from"./Tooltip-CICAYyQj.DC7pN5Ho.js";import{C as pl}from"./Legend-DXLiSLHd.5wpQgPWV.js";import{$ as Pe}from"./Shape-CO_Ak9Zm.UkrUmJI7.js";import{W as hl}from"./DataTable-DL2agEJ3.DwhyhpBD.js";import fl from"./vue-ui-skeleton-B2sRnIXX.C3JvNOY7.js";import gl from"./vue-ui-accordion-D_1fE5EF.ggAyum2g.js";import{c as Ie}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as xl}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import{s as ml}from"./vue-data-ui-Cp7bO_tj.DKBrIOIj.js";import{h as k,p as g,q as bl,v as kl,Y as wl,o,c as i,b as R,e as c,aj as $l,w as M,r as _,ak as ae,al as oe,k as v,n as Xe,N as H,G as pe,j as d,F,C as I,t as z,a as Ml,P as zl}from"./framework.BaNfDZ-f.js";const Cl=["id"],Sl=["xmlns","viewBox"],Al={key:0},Ll=["x1","x2","y1","y2","stroke","stroke-width"],Bl=["x1","x2","y1","y2","stroke","stroke-width"],_l={key:1},Tl=["points","fill","stroke-width","stroke-dasharray","stroke"],Nl={key:0},Wl=["cx","cy","r","fill","stroke","stroke-width","onMouseover"],Fl={key:1},Ol={key:2},Pl=["id"],Il=["stop-color"],Xl=["stop-color"],Vl=["id"],Yl=["stop-color"],jl=["stop-color"],El=["x","y","width","height","fill","stroke","stroke-width","rx"],ql=["x","y","height","width","fill","stroke","stroke-width","rx"],Gl={key:0},Dl=["d","stroke","stroke-width"],Rl=["d","stroke","stroke-width"],Hl=["d","stroke","stroke-width"],Ul=["d","stroke","stroke-width"],Kl={key:3,style:{"pointer-events":"none !important"}},Ql=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Jl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Zl=["x","y","font-size","fill","font-weight","text-anchor"],et=["x","y","font-size","fill","font-weight"],lt=["cx","cy","r","fill","stroke","stroke-width"],tt=["cx","cy","r","fill","stroke","stroke-width"],at=["x","y","font-size","fill","font-weight","text-anchor"],ot={key:4},st=["x","y","font-size","fill"],ut=["x","y","font-size","fill"],it=["id","transform","font-size","font-weight","fill"],rt={key:5},nt=["x","y","font-size","fill"],vt=["x","y","font-size","fill"],yt=["font-size","font-weight","fill","x","y"],dt=["id"],ct=["x","y","width","height"],pt={key:6},ht=["x1","x2","y1","y2","stroke-dasharray","stroke","stroke-width","clip-path"],ft=["x","y","fill","font-size","font-weight"],gt={key:3,class:"vue-data-ui-watermark"},xt=["onClick"],mt={key:0,style:{width:"100%",display:"flex","align-items":"center","justify-content":"center"}},bt={viewBox:"0 0 20 20",height:"20",width:"20",style:{overflow:"hidden",background:"transparent"}},kt={key:0},wt=["innerHTML"],$t={__name:"vue-ui-scatter",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(Ve,{expose:Ye}){const O=Ve,{vue_ui_scatter:je}=He(),J=k(()=>!!O.dataset&&O.dataset.length),C=g(Ue()),Ee=g(null),se=g(!1),ue=g(""),he=g(0),K=g(null),fe=g(null),ge=g(null),xe=g(0),me=g(0),be=g(0),e=k({get:()=>ke(),set:t=>t});function ke(){const t=Ie({userConfig:O.config,defaultConfig:je});return t.theme?{...Ie({userConfig:Ke.vue_ui_scatter[t.theme]||O.config,defaultConfig:t}),customPalette:Qe[t.theme]||D}:t}bl(()=>O.config,t=>{e.value=ke(),we(),xe.value+=1,me.value+=1,be.value+=1},{deep:!0});const Z=g(null);kl(()=>{we()});function we(){if(Je(O.dataset)&&de({componentName:"VueUiScatter",type:"dataset"}),e.value.responsive){const t=rl(()=>{const{width:r,height:l}=nl({chart:K.value,title:e.value.style.title.text?fe.value:null,legend:e.value.style.legend.show?ge.value:null});S.value.width=r,S.value.height=l});Z.value=new ResizeObserver(t),Z.value.observe(K.value.parentNode)}}wl(()=>{Z.value&&Z.value.disconnect()});const{isPrinting:$e,isImaging:Me,generatePdf:ze,generateImage:Ce}=yl({elementId:`vue-ui-scatter_${C.value}`,fileName:e.value.style.title.text||"vue-ui-scatter"}),Se=k(()=>Ze(e.value.customPalette)),X=g({showTable:e.value.table.show,showTooltip:e.value.style.tooltip.show}),S=g({height:e.value.style.layout.height,width:e.value.style.layout.width}),ee=k(()=>e.value.style.layout.marginalBars.show?e.value.style.layout.marginalBars.size+e.value.style.layout.marginalBars.offset:0),u=k(()=>({top:e.value.style.layout.padding.top+ee.value,right:S.value.width-e.value.style.layout.padding.right-ee.value,bottom:S.value.height-e.value.style.layout.padding.bottom,left:e.value.style.layout.padding.left,height:S.value.height-e.value.style.layout.padding.top-e.value.style.layout.padding.bottom-ee.value,width:S.value.width-e.value.style.layout.padding.left-e.value.style.layout.padding.right-ee.value})),p=k(()=>{O.dataset.forEach((a,n)=>{Oe({datasetObject:a,requiredAttributes:["values"]}).forEach(m=>{de({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:m,index:n})}),a.values&&a.values.forEach((m,E)=>{Oe({datasetObject:m,requiredAttributes:["x","y"]}).forEach(U=>{de({componentName:"VueUiScatter",type:"datasetSerieAttribute",property:`values.${U}`,index:`${n} - ${E}`})})})});const t=Math.min(...j.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.x))),r=Math.max(...j.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.x))),l=Math.min(...j.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.y))),s=Math.max(...j.value.filter(a=>!x.value.includes(a.id)).flatMap(a=>a.values.map(n=>n.y)));return{xMin:t>=0?0:t,xMax:r,yMin:l>=0?0:l,yMax:s}}),h=k(()=>({x:u.value.left+Math.abs(p.value.xMin)/(p.value.xMax+Math.abs(p.value.xMin))*u.value.width,y:u.value.bottom-Math.abs(p.value.yMin)/(p.value.yMax+Math.abs(p.value.yMin))*u.value.height})),j=k(()=>O.dataset.map((t,r)=>{const l=`cluster_${C.value}_${r}`;return{...t,id:l,color:t.color?t.color:Se.value[r]||D[r]||D[r%D.length],opacity:x.value.includes(l)?.5:1,shape:t.shape??"circle",segregate:()=>Te(l),isSegregated:x.value.includes(l)}})),qe=k(()=>({cy:"scatter-div-legend",backgroundColor:e.value.style.legend.backgroundColor,color:e.value.style.legend.color,fontSize:e.value.style.legend.fontSize,paddingBottom:12,fontWeight:e.value.style.legend.bold?"bold":""})),ie=k(()=>j.value.map((t,r)=>({...t,plots:t.values.map(l=>({x:u.value.left+(l.x+Math.abs(p.value.xMin))/(p.value.xMax+Math.abs(p.value.xMin))*u.value.width,y:u.value.bottom-(l.y+Math.abs(p.value.yMin))/(p.value.yMax+Math.abs(p.value.yMin))*u.value.height,v:{...l,name:l.name||""},clusterName:t.name,color:t.color?t.color:Se.value[r]||D[r]||D[r%D.length],id:`plot_${C.value}_${Math.random()}`,weight:l.weight??e.value.style.layout.plots.radius}))})).filter(t=>!x.value.includes(t.id))),A=k(()=>ie.value.map(t=>{const r=t.plots.reduce((f,q)=>f+q.x,0)/t.plots.length,l=t.plots.reduce((f,q)=>f+q.y,0)/t.plots.length;let s=0,a=0,n=0;for(const f of t.plots)s+=(f.x-r)*(f.y-l),a+=(f.x-r)**2,n+=(f.y-l)**2;const m=s/Math.sqrt(a*n),E=m*(Math.sqrt(n)/Math.sqrt(a)),U=l-E*r,N={x1:u.value.left,x2:u.value.right,y1:E*u.value.left+U,y2:E*u.value.right+U,coefficient:m},w=(N.y2-N.y1)/(N.x2-N.x1),B=N.y1-w*N.x1,P=Math.min(S.value.width-e.value.style.layout.padding.right,Math.max(e.value.style.layout.padding.left,(u.value.top-B)/w)),te={x:P,y:w*P+B<=e.value.style.layout.padding.top?u.value.top:w*P+B};return{...t,correlation:N,label:te,plots:t.plots.map(f=>{const q=(f.x+w*f.y-w*B)/(1+Math.pow(w,2)),ne=(w*f.x+Math.pow(w,2)*f.y+B)/(1+Math.pow(w,2)),b=Math.sqrt(Math.pow(f.x-q,2)+Math.pow(f.y-ne,2));return{...f,deviation:b,shape:t.shape,color:t.color}})}})),Ae=k(()=>Math.max(...A.value.flatMap(t=>t.plots.map(r=>Math.abs(r.deviation)))));function Ge(){return A.value}function Le(t,r){const l=Array.isArray(t)?t.flatMap(b=>b.plots.map(G=>({x:G.x,y:G.y}))):t.plots.map(b=>({x:b.x,y:b.y}));let s=1/0,a=-1/0,n=1/0,m=-1/0;l.forEach(({x:b,y:G})=>{s=Math.min(s,b),a=Math.max(a,b),n=Math.min(n,G),m=Math.max(m,G)});const E=a-s,U=m-n,N=E/r,w=U/r,B=Array(r).fill(0),P=Array(r).fill(0);l.forEach(({x:b,y:G})=>{const ve=Math.floor((b-s)/N),ye=Math.floor((G-n)/w);B[ve]||(B[ve]=0),P[ye]||(P[ye]=0),B[ve]+=1,P[ye]+=1});const te=[],f=[];for(let b=0;b<r;b+=1)te.push(s+(b+.5)*N),f.push(n+(b+.5)*w);const q=Math.max(...B),ne=Math.max(...P);return{x:B,y:P,avgX:te,avgY:f,maxX:q,maxY:ne}}const V=k(()=>e.value.style.layout.marginalBars.tranches),L=k(()=>Le(ie.value,V.value)),De=k(()=>{const t=u.value.top-e.value.style.layout.marginalBars.offset,r=u.value.right+e.value.style.layout.marginalBars.offset;return ie.value.map(l=>{const s=Le(l,V.value);return{coords:s,dX:el(s.avgX.map((a,n)=>({x:a,y:t-s.x[n]/s.maxX*e.value.style.layout.marginalBars.size}))),dY:ll(s.avgY.map((a,n)=>({y:a,x:r+e.value.style.layout.marginalBars.size*s.y[n]/s.maxY}))),color:l.color,id:l.id}})}),T=g(void 0),y=g(null),re=g(null);function Be(t,r){T.value=t.id,y.value=t;let l="";re.value={datapoint:t,seriesIndex:r,series:A.value,config:e.value};const s=e.value.style.tooltip.customFormat;ol(s)&&sl(()=>s({datapoint:t,seriesIndex:r,series:A.value,config:e.value}))?ue.value=s({datapoint:t,seriesIndex:r,series:A.value,config:e.value}):(t.clusterName&&(l+=`<div style="display:flex;gap:3px;align-items:center">${t.clusterName}</div>`),t.v.name&&(l+=`<div>${t.v.name}</div>`),l+=`<div style="text-align:left;margin-top:6px;padding-top:6px;border-top:1px solid ${e.value.style.tooltip.borderColor}">`,l+=`<div>${e.value.style.layout.dataLabels.xAxis.name}: <b>${isNaN(t.v.x)?"-":Y(e.value.style.layout.plots.selectors.labels.x.formatter,t.v.x,W({p:e.value.style.tooltip.prefix,v:t.v.x,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:r})}</b></div>`,l+=`<div>${e.value.style.layout.dataLabels.yAxis.name}: <b>${isNaN(t.v.y)?"-":Y(e.value.style.layout.plots.selectors.labels.y.formatter,t.v.y,W({p:e.value.style.tooltip.prefix,v:t.v.y,s:e.value.style.tooltip.suffix,r:e.value.style.tooltip.roundingValue}),{datapoint:t,seriesIndex:r})}</b></div>`,l+=`${e.value.style.layout.plots.deviation.translation}: <b>${W({v:t.deviation,r:e.value.style.layout.plots.deviation.roundingValue})}</b>`,l+="</div>",ue.value=`<div>${l}</div>`),se.value=!0}function _e(){se.value=!1,T.value=void 0,y.value=null}const x=g([]);function Te(t){x.value.includes(t)?x.value=x.value.filter(r=>r!==t):x.value.length<O.dataset.length-1&&x.value.push(t)}function Ne(){zl(()=>{const t=["",e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,`${e.value.style.layout.dataLabels.xAxis.name} ${e.value.table.translations.average}`,`${e.value.style.layout.dataLabels.yAxis.name} ${e.value.table.translations.average}`],r=A.value.map(a=>[a.name,a.correlation.coefficient,a.plots.length,a.plots.map(n=>n.v.x).reduce((n,m)=>n+m,0)/a.plots.length,a.plots.map(n=>n.v.y).reduce((n,m)=>n+m,0)/a.plots.length]),l=[[e.value.style.title.text],[e.value.style.title.subtitle.text],[[""],[""],[""]]].concat([t]).concat(r),s=ul(l);il({csvContent:s,title:e.value.style.title.text||"vue-ui-heatmap"})})}const le=k(()=>{const t=[e.value.table.translations.series,e.value.table.translations.correlationCoefficient,e.value.table.translations.nbrPlots,`${e.value.style.layout.dataLabels.xAxis.name} ${e.value.table.translations.average}`,`${e.value.style.layout.dataLabels.yAxis.name} ${e.value.table.translations.average}`],r=A.value.map(s=>[{shape:s.shape,content:s.name,color:s.color},Number((s.correlation.coefficient??0).toFixed(e.value.table.td.roundingValue)).toLocaleString(),s.plots.length.toLocaleString(),Number((s.plots.map(a=>a.v.x??0).reduce((a,n)=>a+n,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString(),Number((s.plots.map(a=>a.v.y??0).reduce((a,n)=>a+n,0)/s.plots.length).toFixed(e.value.table.td.roundingAverage)).toLocaleString()]),l={th:{backgroundColor:e.value.table.th.backgroundColor,color:e.value.table.th.color,outline:e.value.table.th.outline},td:{backgroundColor:e.value.table.td.backgroundColor,color:e.value.table.td.color,outline:e.value.table.td.outline},breakpoint:e.value.table.responsiveBreakpoint};return{head:t,body:r,config:l,colNames:t}}),Q=g(!1);function Re(t){Q.value=t,he.value+=1}function We(){X.value.showTable=!X.value.showTable}function Fe(){X.value.showTooltip=!X.value.showTooltip}return Ye({getData:Ge,generatePdf:ze,generateCsv:Ne,generateImage:Ce,toggleTable:We,toggleTooltip:Fe}),(t,r)=>(o(),i("div",{class:Xe(`vue-ui-scatter ${Q.value?"vue-data-ui-wrapper-fullscreen":""} ${e.value.useCssAnimation?"":"vue-ui-dna"}`),ref_key:"scatterChart",ref:K,id:`vue-ui-scatter_${C.value}`,style:H(`font-family:${e.value.style.fontFamily};width:100%; text-align:center;${e.value.style.title.text?"":"padding-top:36px"};background:${e.value.style.backgroundColor};${e.value.responsive?"height: 100%":""}`)},[e.value.style.title.text?(o(),i("div",{key:0,ref_key:"chartTitle",ref:fe,style:"width:100%;background:transparent"},[(o(),R(vl,{key:`title_${xe.value}`,config:{title:{cy:"scatter-div-title",...e.value.style.title},subtitle:{cy:"scatter-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))],512)):c("",!0),e.value.userOptions.show&&J.value?(o(),R(dl,{ref_key:"details",ref:Ee,key:`user_options_${he.value}`,backgroundColor:e.value.style.backgroundColor,color:e.value.style.color,isImaging:v(Me),isPrinting:v($e),uid:C.value,hasTooltip:e.value.userOptions.buttons.tooltip&&e.value.style.tooltip.show,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasXls:e.value.userOptions.buttons.csv,hasTable:e.value.userOptions.buttons.table,hasFullscreen:e.value.userOptions.buttons.fullscreen,isTooltip:X.value.showTooltip,isFullscreen:Q.value,titles:{...e.value.userOptions.buttonTitles},chartElement:K.value,position:e.value.userOptions.position,onToggleFullscreen:Re,onGeneratePdf:v(ze),onGenerateCsv:Ne,onGenerateImage:v(Ce),onToggleTable:We,onToggleTooltip:Fe},$l({_:2},[t.$slots.optionTooltip?{name:"optionTooltip",fn:M(()=>[_(t.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:M(()=>[_(t.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:M(()=>[_(t.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:M(()=>[_(t.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:M(()=>[_(t.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:M(({toggleFullscreen:l,isFullscreen:s})=>[_(t.$slots,"optionFullscreen",ae(oe({toggleFullscreen:l,isFullscreen:s})),void 0,!0)]),key:"5"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasTooltip","hasPdf","hasImg","hasXls","hasTable","hasFullscreen","isTooltip","isFullscreen","titles","chartElement","position","onGeneratePdf","onGenerateImage"])):c("",!0),J.value?(o(),i("svg",{key:2,xmlns:v(tl),class:Xe({"vue-data-ui-fullscreen--on":Q.value,"vue-data-ui-fulscreen--off":!Q.value}),viewBox:`0 0 ${S.value.width<=0?10:S.value.width} ${S.value.height<=0?10:S.value.height}`,style:H(`max-width:100%;overflow:visible;background:transparent;color:${e.value.style.color}`)},[pe(xl),e.value.style.layout.axis.show?(o(),i("g",Al,[d("line",{x1:h.value.x,x2:h.value.x,y1:u.value.top,y2:u.value.bottom,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,Ll),d("line",{x1:u.value.left,x2:u.value.right,y1:h.value.y,y2:h.value.y,stroke:e.value.style.layout.axis.stroke,"stroke-width":e.value.style.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,Bl)])):c("",!0),e.value.style.layout.plots.giftWrap.show?(o(),i("g",_l,[(o(!0),i(F,null,I(A.value,(l,s)=>(o(),i("g",null,[l.plots.length>2?(o(),i("polygon",{key:0,points:v(al)({series:l.plots}),fill:v(ce)(l.color,e.value.style.layout.plots.giftWrap.fillOpacity*100),"stroke-width":e.value.style.layout.plots.giftWrap.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.giftWrap.strokeDasharray,stroke:l.color,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,Tl)):c("",!0)]))),256))])):c("",!0),(o(!0),i(F,null,I(A.value,(l,s)=>(o(),i("g",null,[!l.shape||l.shape==="circle"?(o(),i("g",Nl,[(o(!0),i(F,null,I(l.plots,(a,n)=>(o(),i("circle",{cx:a.x,cy:a.y,r:T.value&&T.value===a.id?a.weight*2:a.weight,fill:v(ce)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,"stroke-width":e.value.style.layout.plots.strokeWidth,onMouseover:m=>Be(a,s),onMouseleave:_e,style:H(`opacity:${T.value&&T.value===a.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(a.deviation)/Ae.value:e.value.style.layout.plots.significance.show&&Math.abs(a.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1}`)},null,44,Wl))),256))])):(o(),i("g",Fl,[(o(!0),i(F,null,I(l.plots,(a,n)=>(o(),R(Pe,{plot:{x:a.x,y:a.y},radius:T.value&&T.value===a.id?a.weight*2:a.weight,shape:l.shape,color:v(ce)(l.color,e.value.style.layout.plots.opacity*100),stroke:e.value.style.layout.plots.stroke,strokeWidth:e.value.style.layout.plots.strokeWidth,onMouseover:m=>Be(a,s),onMouseleave:_e,style:H(`opacity:${T.value&&T.value===a.id?1:e.value.style.layout.plots.significance.useDistanceOpacity?1-Math.abs(a.deviation)/Ae.value:e.value.style.layout.plots.significance.show&&Math.abs(a.deviation)>e.value.style.layout.plots.significance.deviationThreshold?e.value.style.layout.plots.significance.opacity:1}`)},null,8,["plot","radius","shape","color","stroke","strokeWidth","onMouseover","style"]))),256))]))]))),256)),e.value.style.layout.marginalBars.show?(o(),i("g",Ol,[d("defs",null,[d("linearGradient",{id:`marginal_x_${C.value}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[d("stop",{offset:"0%","stop-color":e.value.style.layout.marginalBars.fill},null,8,Il),d("stop",{offset:"100%","stop-color":e.value.style.backgroundColor},null,8,Xl)],8,Pl),d("linearGradient",{id:`marginal_y_${C.value}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[d("stop",{offset:"0%","stop-color":e.value.style.backgroundColor},null,8,Yl),d("stop",{offset:"100%","stop-color":e.value.style.layout.marginalBars.fill},null,8,jl)],8,Vl)]),(o(!0),i(F,null,I(L.value.x,(l,s)=>(o(),i("g",null,[l&&L.value.avgX[s]?(o(),i("rect",{key:0,x:L.value.avgX[s]-u.value.width/V.value/2,y:u.value.top-e.value.style.layout.marginalBars.offset-l/L.value.maxX*e.value.style.layout.marginalBars.size,width:u.value.width/V.value<=0?1e-4:u.value.width/V.value,height:l/L.value.maxX*e.value.style.layout.marginalBars.size<=0?1e-4:l/L.value.maxX*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?`url(#marginal_x_${C.value})`:e.value.style.layout.marginalBars.fill,style:H(`opacity:${e.value.style.layout.marginalBars.opacity}`),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,El)):c("",!0)]))),256)),(o(!0),i(F,null,I(L.value.y,(l,s)=>(o(),i("g",null,[l&&L.value.avgY[s]?(o(),i("rect",{key:0,x:u.value.right+e.value.style.layout.marginalBars.offset,y:L.value.avgY[s]-u.value.height/V.value/2,height:u.value.height/V.value<=0?1e-4:u.value.height/V.value,width:l/L.value.maxY*e.value.style.layout.marginalBars.size<=0?1e-4:l/L.value.maxY*e.value.style.layout.marginalBars.size,fill:e.value.style.layout.marginalBars.useGradient?`url(#marginal_y_${C.value})`:e.value.style.layout.marginalBars.fill,style:H(`opacity:${e.value.style.layout.marginalBars.opacity}`),stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.strokeWidth,rx:e.value.style.layout.marginalBars.borderRadius},null,12,ql)):c("",!0)]))),256)),e.value.style.layout.marginalBars.showLines?(o(),i("g",Gl,[(o(!0),i(F,null,I(De.value,l=>(o(),i(F,null,[x.value.includes(l.id)?c("",!0):(o(),i("path",{key:0,d:`M ${l.dX}`,stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Dl)),x.value.includes(l.id)?c("",!0):(o(),i("path",{key:1,d:`M ${l.dX}`,stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Rl)),x.value.includes(l.id)?c("",!0):(o(),i("path",{key:2,d:`M ${l.dY}`,stroke:e.value.style.backgroundColor,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth+1,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Hl)),x.value.includes(l.id)?c("",!0):(o(),i("path",{key:3,d:`M ${l.dY}`,stroke:l.color,"stroke-width":e.value.style.layout.marginalBars.linesStrokeWidth,"stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Ul))],64))),256))])):c("",!0)])):c("",!0),y.value&&e.value.style.layout.plots.selectors.show?(o(),i("g",Kl,[d("line",{x1:h.value.x,x2:y.value.x,y1:y.value.y,y2:y.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,Ql),d("line",{x1:y.value.x,x2:y.value.x,y1:h.value.y,y2:y.value.y,stroke:e.value.style.layout.plots.selectors.stroke,"stroke-width":e.value.style.layout.plots.selectors.strokeWidth,"stroke-dasharray":e.value.style.layout.plots.selectors.strokeDasharray,"stroke-linecap":"round",class:"line-pointer"},null,8,Jl),d("text",{x:h.value.x+(y.value.x>h.value.x?-6:6),y:y.value.y+e.value.style.layout.plots.selectors.labels.fontSize/3,"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":y.value.x>h.value.x?"end":"start"},z(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v($)(y.value.v.y),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(y.value.v.y),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:y.value})),9,Zl),d("text",{x:y.value.x,y:h.value.y+(y.value.y>h.value.y?-6:e.value.style.layout.plots.selectors.labels.fontSize+6),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":"middle"},z(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v($)(y.value.v.x),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(y.value.v.x),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.plots.selectors.labels.rounding}),{datapoint:y.value})),9,et),d("circle",{cx:h.value.x,cy:y.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,lt),d("circle",{cx:y.value.x,cy:h.value.y,r:e.value.style.layout.plots.selectors.markers.radius,fill:e.value.style.layout.plots.selectors.markers.fill,stroke:e.value.style.layout.plots.selectors.markers.stroke,"stroke-width":e.value.style.layout.plots.selectors.markers.strokeWidth,class:"line-pointer"},null,8,tt),e.value.style.layout.plots.selectors.labels.showName?(o(),i("text",{key:0,x:y.value.x,y:y.value.y+(y.value.y<h.value.y?-e.value.style.layout.plots.selectors.labels.fontSize/2:e.value.style.layout.plots.selectors.labels.fontSize),"font-size":e.value.style.layout.plots.selectors.labels.fontSize,fill:e.value.style.layout.plots.selectors.labels.color,"font-weight":e.value.style.layout.plots.selectors.labels.bold?"bold":"normal","text-anchor":y.value.x<u.value.left+100?"start":y.value.x>u.value.right-100?"end":y.value.x>h.value.x?"start":"end"},z(y.value.v.name),9,at)):c("",!0)])):c("",!0),e.value.style.layout.dataLabels.xAxis.show?(o(),i("g",ot,[d("text",{x:u.value.left-5,y:h.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"text-anchor":"end","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color},z(v(Y)(e.value.style.layout.plots.selectors.labels.x.formatter,v($)(p.value.xMin),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(p.value.xMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,st),d("text",{x:u.value.right+3,y:h.value.y+e.value.style.layout.dataLabels.xAxis.fontSize/3,"text-anchor":"start","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,fill:e.value.style.layout.dataLabels.xAxis.color},z(v(Y)(e.value.style.layout.plots.selectors.labels.x.formatter,v($)(p.value.xMax),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(p.value.xMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.xAxis.rounding}))),9,ut),d("text",{id:`vue-ui-scatter-xAxis-label-${C.value}`,transform:`translate(${e.value.style.layout.dataLabels.xAxis.fontSize*2}, ${u.value.top+u.value.height/2}), rotate(-90)`,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.xAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.xAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.xAxis.color},z(e.value.style.layout.dataLabels.xAxis.name),9,it)])):c("",!0),e.value.style.layout.dataLabels.yAxis.show?(o(),i("g",rt,[d("text",{x:h.value.x,y:u.value.bottom+e.value.style.layout.dataLabels.yAxis.fontSize+3,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},z(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v($)(p.value.yMin),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(p.value.yMin),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,nt),d("text",{x:h.value.x,y:u.value.top-e.value.style.layout.dataLabels.yAxis.fontSize/2,"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,fill:e.value.style.layout.dataLabels.yAxis.color},z(v(Y)(e.value.style.layout.plots.selectors.labels.y.formatter,v($)(p.value.yMax),v(W)({p:e.value.style.layout.plots.selectors.labels.prefix,v:v($)(p.value.yMax),s:e.value.style.layout.plots.selectors.labels.suffix,r:e.value.style.layout.dataLabels.yAxis.rounding}))),9,vt),d("text",{"text-anchor":"middle","font-size":e.value.style.layout.dataLabels.yAxis.fontSize,"font-weight":e.value.style.layout.dataLabels.yAxis.bold?"bold":"normal",fill:e.value.style.layout.dataLabels.yAxis.color,x:u.value.left+u.value.width/2,y:u.value.bottom+8+e.value.style.layout.dataLabels.yAxis.fontSize*2},z(e.value.style.layout.dataLabels.yAxis.name),9,yt)])):c("",!0),d("clipPath",{id:`clip_path_${C.value}`},[d("rect",{x:u.value.left,y:u.value.top,width:u.value.width<=0?1e-4:u.value.width,height:u.value.height<=0?1e-4:u.value.height},null,8,ct)],8,dt),e.value.style.layout.correlation.show?(o(),i("g",pt,[(o(!0),i(F,null,I(A.value,(l,s)=>(o(),i("line",{x1:l.correlation.x1,x2:l.correlation.x2,y1:l.correlation.y1,y2:l.correlation.y2,"stroke-dasharray":e.value.style.layout.correlation.strokeDasharray,stroke:l.color,"stroke-width":e.value.style.layout.correlation.strokeWidth,"clip-path":`url(#clip_path_${C.value})`},null,8,ht))),256)),(o(!0),i(F,null,I(A.value,(l,s)=>(o(),i("g",null,[e.value.style.layout.correlation.label.show?(o(),i("text",{key:0,x:l.label.x,y:l.label.y,fill:e.value.style.layout.correlation.label.useSerieColor?l.color:e.value.style.layout.correlation.label.color,"font-size":e.value.style.layout.correlation.label.fontSize,"font-weight":e.value.style.layout.correlation.label.bold?"bold":"normal"},z(v(W)({v:v($)(l.correlation.coefficient),r:e.value.style.layout.correlation.label.roundingValue})),9,ft)):c("",!0)]))),256))])):c("",!0),_(t.$slots,"svg",{svg:S.value},void 0,!0)],14,Sl)):c("",!0),t.$slots.watermark?(o(),i("div",gt,[_(t.$slots,"watermark",ae(oe({isPrinting:v($e)||v(Me)})),void 0,!0)])):c("",!0),J.value?c("",!0):(o(),R(fl,{key:4,config:{type:"quadrant",style:{backgroundColor:e.value.style.backgroundColor,quadrant:{grid:{color:e.value.style.layout.axis.stroke},plots:{color:e.value.style.layout.axis.stroke,radius:1}}}}},null,8,["config"])),d("div",{ref_key:"chartLegend",ref:ge},[e.value.style.legend.show?(o(),R(pl,{key:`legend_${be.value}`,legendSet:j.value,config:qe.value,onClickMarker:r[0]||(r[0]=({legend:l})=>Te(l.id))},{item:M(({legend:l})=>[d("div",{onClick:s=>l.segregate(),style:H(`opacity:${x.value.includes(l.id)?.5:1}`)},z(l.name),13,xt)]),_:1},8,["legendSet","config"])):_(t.$slots,"legend",{key:1,legend:j.value},void 0,!0)],512),pe(cl,{show:X.value.showTooltip&&se.value,backgroundColor:e.value.style.tooltip.backgroundColor,color:e.value.style.tooltip.color,borderRadius:e.value.style.tooltip.borderRadius,borderColor:e.value.style.tooltip.borderColor,borderWidth:e.value.style.tooltip.borderWidth,fontSize:e.value.style.tooltip.fontSize,backgroundOpacity:e.value.style.tooltip.backgroundOpacity,position:e.value.style.tooltip.position,offsetY:e.value.style.tooltip.offsetY,parent:K.value,content:ue.value,isCustom:e.value.style.tooltip.customFormat&&typeof e.value.style.tooltip.customFormat=="function"},{"tooltip-before":M(()=>[_(t.$slots,"tooltip-before",ae(oe({...re.value})),void 0,!0)]),"tooltip-after":M(()=>[_(t.$slots,"tooltip-after",ae(oe({...re.value})),void 0,!0)]),default:M(()=>[e.value.style.tooltip.showShape?(o(),i("div",mt,[(o(),i("svg",bt,[pe(Pe,{shape:y.value.shape,color:y.value.color,plot:{x:10,y:10},radius:7},null,8,["shape","color"])]))])):c("",!0)]),_:3},8,["show","backgroundColor","color","borderRadius","borderColor","borderWidth","fontSize","backgroundOpacity","position","offsetY","parent","content","isCustom"]),J.value?(o(),R(gl,{key:5,hideDetails:"",config:{open:X.value.showTable,maxHeight:1e4,body:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color},head:{backgroundColor:e.value.style.backgroundColor,color:e.value.style.color}}},{content:M(()=>[(o(),R(hl,{key:`table_${me.value}`,colNames:le.value.colNames,head:le.value.head,body:le.value.body,config:le.value.config,title:`${e.value.style.title.text}${e.value.style.title.subtitle.text?` : ${e.value.style.title.subtitle.text}`:""}`,onClose:r[1]||(r[1]=l=>X.value.showTable=!1)},{th:M(({th:l})=>[Ml(z(l),1)]),td:M(({td:l})=>[l.shape?(o(),i("div",kt,[d("span",null,z(l.content),1)])):(o(),i("div",{key:1,innerHTML:l},null,8,wt))]),_:1},8,["colNames","head","body","config","title"]))]),_:1},8,["config"])):c("",!0)],14,Cl))}},It=ml($t,[["__scopeId","data-v-a6514d5f"]]);export{It as default};
