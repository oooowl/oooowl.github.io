import{ar as he,h,v as ce,p as f,q as ve,o as r,c as i,b as j,e as d,aj as ye,w as B,r as x,ak as D,al as K,k as v,n as C,G as ge,j as c,F as _,C as Q,t as fe,N as me}from"./framework.BaNfDZ-f.js";import{o as pe,X as ke,K as R,q as xe,L as be,G as we,R as $e,e as b,a as Fe,k as g,j as P,Q as Ce,c as _e,n as Pe,b as Ie}from"../chart.md.hi_nZSnT.js";import{x as Ye}from"./Title-DYNLqCCT.D6xZGHSM.js";import{s as qe,i as Ge}from"./usePrinter-8ofTb2MJ.pt_J2AaR.js";import Me from"./vue-ui-skeleton-B2sRnIXX.C3JvNOY7.js";import{c as Z}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as Oe}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import{s as je}from"./vue-data-ui-Cp7bO_tj.DKBrIOIj.js";const Be=["id"],Le={key:0,style:"width:100%"},We=["xmlns","viewBox"],ze={id:"vueUiPill",clipPathUnits:"objectBoundingBox"},Se=["fill"],Ne=["id"],Te=["stop-color"],Ve=["stop-color"],Ee=["stop-color"],Ue={"clip-path":"url(#vueUiPill)"},Ae=["x","y","height","width"],Xe=["x","y","height","width","fill"],De=["x1","x2","y1","y2","stroke-width","stroke"],Ke=["x1","x2","y1","y2","stroke-width","stroke"],Qe=["x1","x2","y1","y2","stroke-width","stroke"],Re=["x1","x2","y1","y2","stroke-width","stroke"],Ze=["x1","x2","y1","y2","stroke-width","stroke"],He=["x1","x2","y1","y2","stroke-width","stroke"],Je=["x1","x2","y1","y2","stroke-width","stroke"],et=["x1","x2","y1","y2","stroke-width","stroke"],tt=["x","y","height","width"],at=["y","x","fill","font-size","font-weight"],lt={key:3,class:"vue-data-ui-watermark"},st={__name:"vue-ui-thermometer",props:{dataset:{type:Object,default(){return{}}},config:{type:Object,default(){return{}}}},setup(w,{expose:H}){const s=w;he(a=>({ff9f54a6:se.value,"727be881":le.value,"673ba9ae":ae.value}));const{vue_ui_thermometer:J}=pe(),I=h(()=>!!s.dataset&&Object.keys(s.dataset).length);ce(()=>{L()});function L(){ke(s.dataset)?R({componentName:"VueUiThermometer",type:"dataset"}):xe({datasetObject:s.dataset,requiredAttributes:["value","from","to"]}).forEach(a=>{R({componentName:"VueUiThermometer",type:"datasetAttribute",property:a})})}const m=f(be()),W=f(null),z=f(0),S=f(0),e=h({get:()=>N(),set:a=>a});function N(){const a=Z({userConfig:s.config,defaultConfig:J});return a.theme?{...Z({userConfig:we.vue_ui_thermometer[a.theme]||s.config,defaultConfig:a}),customPalette:$e[a.theme]||b}:a}ve(()=>s.config,a=>{e.value=N(),L(),S.value+=1},{deep:!0});const{isPrinting:T,isImaging:V,generatePdf:E,generateImage:U}=qe({elementId:`thermometer__${m.value}`,fileName:e.value.style.title.text||"vue-ui-thermometer"}),$=h(()=>Fe(e.value.customPalette)),ee=h(()=>e.value.style.chart.thermometer.width),y=h(()=>s.dataset.steps||10),n=f({top:e.value.style.chart.padding.top,left:e.value.style.chart.padding.left,right:e.value.style.chart.padding.right,bottom:e.value.style.chart.padding.bottom});function F(a,o,t){const u=[],M=A(a),O=A(o);for(let k=0;k<t;k++){const ue=Y(M.red,O.red,k,t),ie=Y(M.green,O.green,k,t),ne=Y(M.blue,O.blue,k,t),de=`#${q(ue)}${q(ie)}${q(ne)}`;u.push(de)}return u}function A(a){const o=a.slice(1);return{red:parseInt(o.slice(0,2),16),green:parseInt(o.slice(2,4),16),blue:parseInt(o.slice(4,6),16)}}function Y(a,o,t,u){return Math.round(a+(o-a)*t/u)}function q(a){return a.toString(16).padStart(2,"0")}const l=h(()=>{const a=ee.value+n.value.left+n.value.right,o=e.value.style.chart.height;return{width:a,left:n.value.left,right:a-n.value.right,top:n.value.top,bottom:o-n.value.bottom,height:o}}),te=h(()=>l.value),G=h(()=>{const a=g(s.dataset.from)<0?Math.abs(g(s.dataset.from)):g(s.dataset.from),o=g(s.dataset.to)<0?Math.abs(g(s.dataset.to)):g(s.dataset.to);let t=0;return g(s.dataset.to)>0?t=a+o:a>o?t=a-o:t=o-a,(1-(Math.abs(g(s.dataset.from))+g(s.dataset.value))/t)*(l.value.height-n.value.top-n.value.bottom)}),ae=h(()=>`${G.value}px`),le=h(()=>`${l.value.height-e.value.style.chart.padding.bottom-n.value.top}px`),se=h(()=>`${e.value.style.chart.animation.speedMs}ms`),re=h(()=>{if(s.dataset.colors){if(!s.dataset.colors.from)return F($.value[0]||b[0],P(s.dataset.colors.to),y.value||10);if(!s.dataset.colors.to)return F(P(s.dataset.colors.from),$.value[1]||b[1],y.value||10)}else return F($.value[1]||b[1],$.value[0]||b[0],y.value||10);return F(P(s.dataset.colors.from),P(s.dataset.colors.to),y.value||10)}),X=h(()=>{const a=[];let o=0;const t=l.value.height-n.value.top-n.value.bottom;for(let u=0;u<t-1;u+=t/y.value)a.push({x:l.value.left,y:l.value.top+u,qYLess:l.value.top+u+t/y.value/4,halfY:l.value.top+u+t/y.value/2,qYMore:l.value.top+u+t/y.value/4*3,color:re.value[o],height:t/y.value}),o+=1;return a}),p=f(!1);function oe(a){p.value=a,z.value+=1}return H({generatePdf:E,generateImage:U}),(a,o)=>(r(),i("div",{ref_key:"thermoChart",ref:W,class:C(`vue-ui-thermometer ${p.value?"vue-data-ui-wrapper-fullscreen":""}`),style:me(`width:100%;background:${e.value.style.chart.backgroundColor};color:${e.value.style.chart.color};font-family:${e.value.style.fontFamily}`),id:`thermometer__${m.value}`},[e.value.style.title.text?(r(),i("div",Le,[(r(),j(Ye,{key:`title_${S.value}`,config:{title:{cy:"thermometer-div-title",...e.value.style.title},subtitle:{cy:"thermometer-div-subtitle",...e.value.style.title.subtitle}}},null,8,["config"]))])):d("",!0),e.value.userOptions.show&&I.value?(r(),j(Ge,{ref:"details",key:`user_options_${z.value}`,backgroundColor:e.value.style.chart.backgroundColor,color:e.value.style.chart.color,isImaging:v(V),isPrinting:v(T),uid:m.value,hasPdf:e.value.userOptions.buttons.pdf,hasImg:e.value.userOptions.buttons.img,hasFullscreen:e.value.userOptions.buttons.fullscreen,hasXls:!1,isFullscreen:p.value,titles:{...e.value.userOptions.buttonTitles},chartElement:W.value,position:e.value.userOptions.position,onToggleFullscreen:oe,onGeneratePdf:v(E),onGenerateImage:v(U)},ye({_:2},[a.$slots.optionPdf?{name:"optionPdf",fn:B(()=>[x(a.$slots,"optionPdf",{},void 0,!0)]),key:"0"}:void 0,a.$slots.optionImg?{name:"optionImg",fn:B(()=>[x(a.$slots,"optionImg",{},void 0,!0)]),key:"1"}:void 0,a.$slots.optionFullscreen?{name:"optionFullscreen",fn:B(({toggleFullscreen:t,isFullscreen:u})=>[x(a.$slots,"optionFullscreen",D(K({toggleFullscreen:t,isFullscreen:u})),void 0,!0)]),key:"2"}:void 0]),1032,["backgroundColor","color","isImaging","isPrinting","uid","hasPdf","hasImg","hasFullscreen","isFullscreen","titles","chartElement","position","onGeneratePdf","onGenerateImage"])):d("",!0),I.value?(r(),i("svg",{key:2,xmlns:v(Ce),class:C({"vue-data-ui-fullscreen--on":p.value,"vue-data-ui-fulscreen--off":!p.value}),width:"100%",viewBox:`0 0 ${l.value.width} ${l.value.height}`,style:"background:transparent"},[ge(Oe),c("defs",null,[c("clipPath",ze,[c("rect",{x:"0",y:"0",width:"1",height:"1",rx:"0.5",ry:"0.07",fill:e.value.style.chart.backgroundColor},null,8,Se)]),(r(!0),i(_,null,Q(X.value,(t,u)=>(r(),i("linearGradient",{id:`vueUiThermometerGradient_${u}_${m.value}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[c("stop",{offset:"0%","stop-color":t.color},null,8,Te),c("stop",{offset:"50%","stop-color":v(_e)(t.color,100-e.value.style.chart.graduations.gradient.intensity)},null,8,Ve),c("stop",{offset:"100%","stop-color":t.color},null,8,Ee)],8,Ne))),256))]),c("g",Ue,[c("rect",{x:l.value.left,y:l.value.top,height:l.value.height-n.value.top-n.value.bottom,width:l.value.width-n.value.left-n.value.right,fill:"#FFFFFF"},null,8,Ae),(r(!0),i(_,null,Q(X.value,(t,u)=>(r(),i("g",{key:`graduation_${u}`},[c("rect",{x:t.x,y:t.y,height:t.height,width:l.value.width-e.value.style.chart.padding.left-e.value.style.chart.padding.right,fill:e.value.style.chart.graduations.gradient.show?`url(#vueUiThermometerGradient_${u}_${m.value})`:t.color,"shape-rendering":"crispEdges"},null,8,Xe),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:0,x1:t.x,x2:t.x+10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,De)):d("",!0),e.value.style.chart.graduations.showIntermediate?(r(),i(_,{key:1},[e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:0,x1:t.x,x2:t.x+5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Ke)):d("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:1,x1:t.x,x2:t.x+2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Qe)):d("",!0),e.value.style.chart.graduations.show&&["both","left"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:2,x1:t.x,x2:t.x+2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Re)):d("",!0)],64)):d("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:2,x1:l.value.right,x2:l.value.right-10,y1:t.y,y2:t.y,"stroke-width":e.value.style.chart.graduations.strokeWidth,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Ze)):d("",!0),e.value.style.chart.graduations.showIntermediate?(r(),i(_,{key:3},[e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:0,x1:l.value.right,x2:l.value.right-5,y1:t.halfY,y2:t.halfY,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,He)):d("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:1,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYLess,y2:t.qYLess,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,Je)):d("",!0),e.value.style.chart.graduations.show&&["both","right"].includes(e.value.style.chart.graduations.sides)?(r(),i("line",{key:2,x1:l.value.right,x2:l.value.right-2.5,y1:t.qYMore,y2:t.qYMore,"stroke-width":e.value.style.chart.graduations.strokeWidth/2,stroke:e.value.style.chart.graduations.stroke,"stroke-linecap":"round"},null,8,et)):d("",!0)],64)):d("",!0)]))),128)),c("rect",{class:C({"vue-ui-thermometer-temperature":e.value.style.chart.animation.use}),x:l.value.left,y:l.value.top,height:G.value,width:l.value.width-e.value.style.chart.padding.left-e.value.style.chart.padding.right,fill:"#FFFFFF66"},null,10,tt)]),c("text",{class:C({"vue-ui-thermometer-temperature-value":e.value.style.chart.animation.use}),y:G.value+l.value.top+e.value.style.chart.label.fontSize/3,x:l.value.left-10,"text-anchor":"end",fill:e.value.style.chart.label.color,"font-size":e.value.style.chart.label.fontSize,"font-weight":e.value.style.chart.label.bold?"bold":"normal"},fe(v(Pe)(e.value.style.chart.label.formatter,w.dataset.value,v(Ie)({p:e.value.style.chart.label.prefix,v:w.dataset.value,s:e.value.style.chart.label.suffix,r:e.value.style.chart.label.rounding}),{datapoint:w.dataset})),11,at),x(a.$slots,"svg",{svg:te.value},void 0,!0)],10,We)):d("",!0),a.$slots.watermark?(r(),i("div",lt,[x(a.$slots,"watermark",D(K({isPrinting:v(T)||v(V)})),void 0,!0)])):d("",!0),I.value?d("",!0):(r(),j(Me,{key:4,config:{type:"thermometer",style:{backgroundColor:e.value.style.chart.backgroundColor,thermometer:{color:"#CCCCCC"}}}},null,8,["config"]))],14,Be))}},vt=je(st,[["__scopeId","data-v-cef2c8d4"]]);export{vt as default};
