import{o as We,L as we,G as Le,R as Oe,e as K,a as Ve,j as qe,X as Ee,K as Q,q as se,M as q,g as Ce,b as T,Q as Ae,c as g,V as Y,n as J,B as _e,z as D,P as ee,N as Re,O as Ue}from"../chart.md.hi_nZSnT.js";import{x as Xe}from"./Title-DYNLqCCT.D6xZGHSM.js";import{s as Ze,i as He}from"./usePrinter-8ofTb2MJ.pt_J2AaR.js";import Ke from"./vue-ui-skeleton-B2sRnIXX.C3JvNOY7.js";import{W as Qe}from"./DataTable-DL2agEJ3.DwhyhpBD.js";import Ye from"./vue-ui-accordion-D_1fE5EF.ggAyum2g.js";import{c as Fe}from"./useNestedProp-S1UXxUgm.CErBICdk.js";import{p as Je}from"./PackageVersion-DtnhR89q.DeJ10Meb.js";import{s as et}from"./vue-data-ui-Cp7bO_tj.DKBrIOIj.js";import{h as z,p as S,q as tt,v as lt,o as s,c as n,b as R,e as y,aj as ot,w as G,r as j,ak as te,al as le,k as c,n as Me,N as I,G as at,j as u,F as b,C as m,t as P,a as rt,P as st,am as it,an as ut}from"./framework.BaNfDZ-f.js";import"./Shape-CO_Ak9Zm.UkrUmJI7.js";const oe=E=>(it("data-v-8a60c7c5"),E=E(),ut(),E),nt=["id"],dt={key:0,style:"width:100%;background:transparent"},ct=["xmlns","viewBox"],vt=["id"],ht=["stop-color"],pt=["stop-color"],ft=["id"],yt=["stop-color"],kt=["stop-color"],gt=["id"],$t=["stop-color"],bt=["stop-color"],mt=["id"],xt=["stop-color"],wt=["stop-color"],Ct=["stop-color"],_t={key:0},Ft=["id"],Mt=["stop-color"],Pt=["stop-color"],Tt=["id"],zt=["stop-color"],St=["stop-color"],jt=["id"],Nt=["stop-color"],Bt=["stop-color"],Dt=["id"],Gt=oe(()=>u("stop",{offset:"0%","stop-color":"#FFFFFF"},null,-1)),It=oe(()=>u("stop",{offset:"100%","stop-color":"#FFFFFF33"},null,-1)),Wt=[Gt,It],Lt=["x","y","font-size","font-weight","fill"],Ot=["x","y"],Vt=["d","stroke"],qt=["d","stroke"],Et={key:3},At={key:0},Rt=["stroke-dasharray","d","stroke","stroke-width"],Ut=["stroke-dasharray","d","stroke","stroke-width"],Xt=["stroke-dasharray","d","stroke","stroke-width"],Zt=["stroke-dasharray","d","stroke","stroke-width"],Ht={key:1},Kt=["d","stroke","stroke-width","fill"],Qt=["d","stroke","stroke-width","fill"],Yt=["d","stroke","stroke-width","fill"],Jt={key:2},el=["d","fill","onMouseenter","onClick"],tl=["d","fill","onMouseenter","onClick"],ll=["d","fill","onMouseenter","onClick"],ol=["d","onMouseenter","onClick"],al=["d"],rl=["d","stroke"],sl=["onClick"],il=["stroke","d"],ul=["cx","cy","fill","stroke"],nl=["x","y","width","height"],dl={key:1},cl=["d","stroke"],vl=["d","fill","stroke"],hl=["id"],pl=["stop-color"],fl=oe(()=>u("stop",{offset:"77%","stop-color":"#FFFFFF20"},null,-1)),yl=["stop-color"],kl=["cx","cy","fill"],gl=["cx","cy","fill"],$l={key:0},bl=["text-anchor","x","y","fill","font-size"],ml=["text-anchor","x","y","fill","font-size"],xl={key:2},wl=["d","fill","stroke"],Cl={key:4},_l={key:0},Fl=["stroke-dasharray","d","stroke","stroke-width"],Ml=["stroke-dasharray","d","stroke","stroke-width"],Pl=["stroke-dasharray","d","stroke","stroke-width"],Tl=["stroke-dasharray","d","stroke","stroke-width"],zl=["d","stroke","stroke-width","fill"],Sl=["d","stroke","stroke-width","fill"],jl={key:1},Nl=["onClick"],Bl=["id"],Dl=["stop-color"],Gl=["stop-color"],Il=["id"],Wl=["stop-color"],Ll=["stop-color"],Ol=["stop-color"],Vl=["stop-color"],ql=["stop-color"],El=["onMouseenter","onClick","d","fill"],Al=["onMouseenter","onClick","d"],Rl=["onMouseenter","onClick","d","fill"],Ul=["onClick"],Xl=["stroke","d"],Zl=["cx","cy","fill","stroke"],Hl=["x","y","width","height"],Kl={key:1},Ql=["d","stroke"],Yl=["d","fill","stroke"],Jl=["id"],eo=["stop-color"],to=oe(()=>u("stop",{offset:"77%","stop-color":"#FFFFFF20"},null,-1)),lo=["stop-color"],oo=["cx","cy","fill"],ao=["cx","cy","fill"],ro={key:0},so=["text-anchor","x","y","fill","font-size"],io=["text-anchor","x","y","fill","font-size"],uo={key:2},no=["d","fill","stroke"],co={key:3,class:"vue-data-ui-watermark"},vo=["innerHTML"],ho={__name:"vue-ui-3d-bar",props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},emits:["selectDatapoint"],setup(E,{expose:Pe,emit:U}){const $=E,{vue_ui_3d_bar:Te}=We(),X=z(()=>!!$.dataset&&Object.keys($.dataset).length),x=S(we()),ze=S(null),ie=S(null),W=S(!1),ue=S(0),ne=S(0),t=z({get:()=>de(),set:r=>r});function de(){const r=Fe({userConfig:$.config,defaultConfig:Te});return r.theme?{...Fe({userConfig:Le.vue_ui_3d_bar[r.theme]||$.config,defaultConfig:r}),customPalette:Oe[r.theme]||K}:r}tt(()=>$.config,r=>{t.value=de(),fe(),ue.value+=1,ne.value+=1},{deep:!0});const{isPrinting:ce,isImaging:ve,generatePdf:he,generateImage:pe}=Ze({elementId:`3d_bar_${x.value}`,fileName:t.value.style.chart.title.text||"vue-ui-3d-bar"}),Se=z(()=>Ve(t.value.customPalette)),Z=S({showTable:t.value.table.show}),F=z(()=>$.dataset.series&&$.dataset.series.length),o=z(()=>({height:t.value.style.chart.box.dimensions.height,width:t.value.style.chart.box.dimensions.width,absoluteWidth:t.value.style.chart.box.dimensions.width*(F.value?2:1),top:t.value.style.chart.box.dimensions.top,bottom:t.value.style.chart.box.dimensions.bottom,left:t.value.style.chart.box.dimensions.left,right:t.value.style.chart.box.dimensions.right,perspective:t.value.style.chart.box.dimensions.perspective})),C=z(()=>{if(F.value){const r=$.dataset.series.map(l=>l.value||0).reduce((l,i)=>l+i,0),a=$.dataset.series.map((l,i)=>({...l,id:we(),proportion:(l.value||0)/r,color:qe(l.color)||Se.value[i]||K[i]||K[i%K.length],breakdown:l.breakdown?l.breakdown.sort((d,k)=>k.value-d.value):null})).sort((l,i)=>i.value-l.value),e=[];let v=0;for(let l=0;l<a.length;l+=1)e.push({...a[l],fill:je(v,a[l].proportion,a[l].breakdown,a[l].color)}),v+=a[l].proportion;return e}return null}),N=z(()=>({right:`M${o.value.width/2},${o.value.top} ${o.value.width-o.value.right}, ${o.value.top+o.value.perspective} ${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective} ${o.value.width/2},${o.value.height-o.value.bottom}`,left:`M${o.value.width/2},${o.value.top} ${o.value.left},${o.value.top+o.value.perspective} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective} ${o.value.width/2},${o.value.height-o.value.bottom}`,side:`M${o.value.width/2},${o.value.height-o.value.bottom} ${o.value.width/2},${o.value.top+o.value.perspective*2}`,topSides:`M${o.value.left},${o.value.top+o.value.perspective} ${o.value.width/2},${o.value.top+o.value.perspective*2} ${o.value.width-o.value.right},${o.value.top+o.value.perspective}`,tubeTop:`M${o.value.left},${o.value.top+o.value.perspective} C ${o.value.left},${o.value.top-o.value.perspective/3} ${o.value.width-o.value.right},${o.value.top-o.value.perspective/3} ${o.value.width-o.value.right},${o.value.top+o.value.perspective} C ${o.value.width-o.value.right},${o.value.top+o.value.perspective*2.3} ${o.value.left},${o.value.top+o.value.perspective*2.3} ${o.value.left},${o.value.top+o.value.perspective}`,tubeLeft:`M${o.value.left},${o.value.top+o.value.perspective} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective}`,tubeRight:`M${o.value.width-o.value.right},${o.value.top+o.value.perspective} ${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective}`,tubeBottom:`M${o.value.width-o.value.right},${o.value.height-o.value.bottom-o.value.perspective} C ${o.value.width-o.value.right},${o.value.height} ${o.value.left},${o.value.height} ${o.value.left},${o.value.height-o.value.bottom-o.value.perspective}`})),O=S(t.value.style.chart.animation.use?0:$.dataset.percentage);lt(()=>{fe();let r=0,a=t.value.style.chart.animation.speed,e=.005*t.value.style.chart.animation.acceleration;function v(){O.value+=a+r,r+=e,O.value<$.dataset.percentage?requestAnimationFrame(v):O.value=$.dataset.percentage}t.value.style.chart.animation.use&&(O.value=0,v())});function fe(){Ee($.dataset)?Q({componentName:"VueUi3dBar",type:"dataset"}):$.dataset.series?$.dataset.series.forEach((r,a)=>{se({datasetObject:r,requiredAttributes:["name","value"]}).forEach(e=>{Q({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:e,index:a})}),r.breakdown&&r.breakdown.forEach((e,v)=>{se({datasetObject:e,requiredAttributes:["name","value"]}).forEach(l=>{Q({componentName:"VueUi3dBar",type:"datasetSerieAttribute",property:l,index:`${a} - ${v}`})})})}):se({datasetObject:$.dataset,requiredAttributes:["percentage"]}).forEach(r=>{Q({componentName:"VueUi3dBar",type:"datasetAttribute",property:r})})}function je(r,a,e,v){const l=o.value.height-o.value.bottom-o.value.top-o.value.perspective*2,{width:i,height:d,bottom:k,right:p,left:_,perspective:f}=o.value,h=k+l*r,re=d-h-f-l*a/2,De=re>o.value.height/2?"top":"bottom",$e=64,Ge=!!e;let be=null,me=null;return Ge&&(e=e.map((xe,Ie)=>({...xe,value:xe.value||0,color:q(v,Ie/e.length)})),be=Ce({series:e},i+o.value.absoluteWidth/4-14,De==="top"?re-$e:re+$e,28,28,1.99999,2,1,360,105.25,14),me=Ce({series:e},i-p+20,d-h-f-l*a/2,6,6,1.99999,2,1,360,105.25,6)),{donut:be,miniDonut:me,sidePointer:{x:i-p,y:d-h-f-l*a/2,topY:d-h-f-l*a,height:l*a},apexBottom:{y:d-h,x:i/2},apexTop:{y:d-h-l*a,x:i/2},right:`M${i/2},${d-h} ${i/2},${d-h-l*a} ${i-p},${d-h-f-l*a} ${i-p},${d-h-f}Z`,left:`M${i/2},${d-h} ${i/2},${d-h-l*a} ${_}, ${d-h-f-l*a} ${_},${d-h-f}Z`,liningTop:`M${_},${d-h-f-l*a} ${i/2},${d-h-l*a} ${i-p},${d-h-f-l*a}`,liningTopShade:`M${_},${d-h-f-l*a-.5} ${i/2},${d-h-l*a-.5} ${i-p},${d-h-f-l*a-.5}`,top:`M${i/2},${d-h-l*a} ${_},${d-h-f-l*a} ${i/2},${d-h-f*2-l*a} ${i-p},${d-h-f-l*a} Z`,tubeTop:`M${_},${d-h-l*a-f} C ${_},${d-h-l*a-f*2.5} ${i-p},${d-h-l*a-f*2.5} ${i-p},${d-h-l*a-f} C ${i-p},${d-h-l*a+f/2} ${_},${d-h-l*a+f/2} ${_},${d-h-l*a-f}`,bottomTubeTop:`M ${i-p-.5},${d-h-f} C ${i-p-.5},${d-h+f/2} ${_},${d-h+f/2} ${_+.5},${d-h-f}`,tubeBody:`M
        ${_},${d-h-l*a-f} 
        C ${_},${d-h-l*a+f/2} 
        ${i-p},${d-h-l*a+f/2} 
        ${i-p},${d-h-l*a-f} 
        L${i-p},${d-h-f}
        C 
        ${i-p},${d-h+f/2}
        ${_},${d-h+f/2}
        ${_},${d-h-f}Z`}}const A=z(()=>{const r=O.value/100,a=o.value.height-o.value.bottom-o.value.top-o.value.perspective*2,{width:e,height:v,bottom:l,right:i,left:d,perspective:k}=o.value,p=l+a*0;return{right:`M${e/2},${v-p} ${e/2},${v-p-a*r} ${e-i},${v-p-k-a*r} ${e-i},${v-p-k}Z`,left:`M${e/2},${v-p} ${e/2},${v-p-a*r} ${d}, ${v-p-k-a*r} ${d},${v-p-k}Z`,top:`M${e/2},${v-p-a*r} ${d},${v-p-k-a*r} ${e/2},${v-p-k*2-a*r} ${e-i},${v-p-k-a*r} Z`,tubeTop:`M${d},${v-p-a*r-k} C ${d},${v-p-a*r-k*2.5} ${e-i},${v-p-a*r-k*2.5} ${e-i},${v-p-a*r-k} C ${e-i},${v-p-a*r+k/2} ${d},${v-p-a*r+k/2} ${d},${v-p-a*r-k}`,tubeBody:`M
        ${d},${v-p-a*r-k} 
        C ${d},${v-p-a*r+k/2} 
        ${e-i},${v-p-a*r+k/2} 
        ${e-i},${v-p-a*r-k} 
        L${e-i},${v-k*1.5}
        C 
        ${e-i},${v}
        ${d},${v}
        ${d},${v-p-k}Z`}}),w=S(null);function M(r,a=!1){U("selectDatapoint",r),a||(w.value=r.id),a&&W.value&&(W.value=!1),a&&!W.value&&(W.value=!0)}function L(){W.value||(w.value=null)}function V(r,a,e=!1){const v=$.dataset.series.map(d=>d.value||0).reduce((d,k)=>d+k,0),l=isNaN(r.value/v)?0:r.value/v*100,i=isNaN(r.value/ye(a))?0:r.value/ye(a)*100;return e?i:l.toFixed(0)+"%"}function ye(r){return[...r].map(a=>a.value).reduce((a,e)=>a+e,0)}const ae=S(!1);function Ne(r){ae.value=r}function Be(){return F.value?C.value:$.dataset.percentage}const B=z(()=>{if(F.value){const r=C.value.flatMap(e=>e.breakdown&&e.breakdown.length?[{name:e.name,color:e.color},...e.breakdown.map((v,l)=>({name:v.name,color:q(e.color,l/e.breakdown.length)}))]:{name:e.name,color:e.color}),a=C.value.flatMap(e=>e.breakdown&&e.breakdown.length?[e.value,...e.breakdown.map(v=>v.value)]:e.value);return{head:r,body:a}}else return null});function ke(){if(!F.value){console.warn("VueUi3dBar : CSV download is only available in stack mode (providing dataset.series instead of dataset.percentage)");return}st(()=>{const r=C.value.map(l=>l.value).reduce((l,i)=>l+i,0),a=B.value.head.map((l,i)=>[[l.name],[B.value.body[i]],[isNaN(B.value.body[i]/r)?"-":B.value.body[i]/r*100]]),e=[[t.value.style.chart.title.text],[t.value.style.chart.title.subtitle.text],[[""],["val"],["%"]]].concat(a),v=Re(e);Ue({csvContent:v,title:t.value.style.chart.title.text||"vue-ui-3d-bar"})})}const H=z(()=>{const r=C.value.map(l=>l.value).reduce((l,i)=>l+i,0),a=[' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>',T({p:t.value.style.chart.legend.prefix,v:r,s:t.value.style.chart.legend.suffix,r:t.value.table.td.roundingValue}),"100%"],e=B.value.head.map((l,i)=>{const d=T({p:t.value.style.chart.legend.prefix,v:B.value.body[i],s:t.value.style.chart.legend.suffix,r:t.value.table.td.roundingValue});return[{color:l.color,name:l.name},d,isNaN(B.value.body[i]/r)?"-":T({v:B.value.body[i]/r*100,s:"%",r:t.value.table.td.roundingPercentage})]}),v={th:{backgroundColor:t.value.table.th.backgroundColor,color:t.value.table.th.color,outline:t.value.table.th.outline},td:{backgroundColor:t.value.table.td.backgroundColor,color:t.value.table.td.color,outline:t.value.table.td.outline},breakpoint:t.value.table.responsiveBreakpoint,shape:t.value.style.shape==="tube"?"circle":"square"};return{colNames:[t.value.table.columnNames.series,t.value.table.columnNames.value,t.value.table.columnNames.percentage],head:a,body:e,config:v}});function ge(){Z.value.showTable=!Z.value.showTable}return Pe({generateCsv:ke,generatePdf:he,generateImage:pe,getData:Be,toggleTable:ge}),(r,a)=>(s(),n("div",{ref_key:"bar3dChart",ref:ie,class:Me("vue-ui-3d-bar"),style:I(`font-family:${t.value.style.fontFamily};width:100%; text-align:center;background:${t.value.style.chart.backgroundColor}`),id:`3d_bar_${x.value}`},[t.value.style.chart.title.text?(s(),n("div",dt,[(s(),R(Xe,{key:`title_${ue.value}`,config:{title:{cy:"3dBar-div-title",...t.value.style.chart.title},subtitle:{cy:"3dBar-div-subtitle",...t.value.style.chart.title.subtitle}}},null,8,["config"]))])):y("",!0),t.value.userOptions.show&&X.value?(s(),R(He,{key:1,ref_key:"details",ref:ze,backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color,isPrinting:c(ce),isImaging:c(ve),uid:x.value,hasPdf:t.value.userOptions.buttons.pdf,hasTable:!!F.value&&t.value.userOptions.buttons.table,hasXls:!!F.value&&t.value.userOptions.buttons.csv,hasImg:t.value.userOptions.buttons.img,hasFullscreen:t.value.userOptions.buttons.fullscreen,titles:{...t.value.userOptions.buttonTitles},chartElement:ie.value,position:t.value.userOptions.position,onToggleFullscreen:Ne,onGeneratePdf:c(he),onGenerateCsv:ke,onGenerateImage:c(pe),onToggleTable:ge},ot({_:2},[r.$slots.optionPdf?{name:"optionPdf",fn:G(()=>[j(r.$slots,"optionPdf",{},void 0,!0)]),key:"0"}:void 0,r.$slots.optionCsv?{name:"optionCsv",fn:G(()=>[j(r.$slots,"optionCsv",{},void 0,!0)]),key:"1"}:void 0,r.$slots.optionImg?{name:"optionImg",fn:G(()=>[j(r.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,r.$slots.optionTable?{name:"optionTable",fn:G(()=>[j(r.$slots,"optionTable",{},void 0,!0)]),key:"3"}:void 0,r.$slots.optionFullscreen?{name:"optionFullscreen",fn:G(({toggleFullscreen:e,isFullscreen:v})=>[j(r.$slots,"optionFullscreen",te(le({toggleFullscreen:e,isFullscreen:v})),void 0,!0)]),key:"4"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasTable","hasXls","hasImg","hasFullscreen","titles","chartElement","position","onGeneratePdf","onGenerateImage"])):y("",!0),X.value?(s(),n("svg",{key:2,xmlns:c(Ae),class:Me({"vue-data-ui-fullscreen--on":ae.value,"vue-data-ui-fulscreen--off":!ae.value}),viewBox:`0 0 ${o.value.absoluteWidth} ${o.value.height}`,style:I(`max-width:100%; overflow: visible; background:transparent;color:${t.value.style.chart.color}`)},[at(Je),u("defs",null,[u("radialGradient",{id:`gradient_top${x.value}`},[u("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,ht),u("stop",{offset:"100%","stop-color":t.value.style.chart.bar.color},null,8,pt)],8,vt),u("radialGradient",{id:`gradient_left${x.value}`},[u("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,yt),u("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,20)},null,8,kt)],8,ft),u("radialGradient",{id:`gradient_right${x.value}`},[u("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,$t),u("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,20)},null,8,bt)],8,gt),u("linearGradient",{id:`gradient_tube_body${x.value}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[u("stop",{offset:"0%","stop-color":`${t.value.style.chart.bar.color}`},null,8,xt),u("stop",{offset:"75%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,wt),u("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.bar.color,40)},null,8,Ct)],8,mt)]),F.value?(s(),n("defs",_t,[(s(!0),n(b,null,m(C.value,e=>(s(),n("radialGradient",{id:`grad_top_${e.id}`},[u("stop",{offset:"0%","stop-color":c(g)(c(q)(e.color,.5),80)},null,8,Mt),u("stop",{offset:"100%","stop-color":e.color},null,8,Pt)],8,Ft))),256)),(s(!0),n(b,null,m(C.value,e=>(s(),n("linearGradient",{id:`grad_left_${e.id}`},[u("stop",{offset:"0%","stop-color":c(g)(e.color,80)},null,8,zt),u("stop",{offset:"100%","stop-color":c(g)(c(Y)(e.color,.5),100)},null,8,St)],8,Tt))),256)),(s(!0),n(b,null,m(C.value,e=>(s(),n("linearGradient",{id:`grad_right_${e.id}`},[u("stop",{offset:"2%","stop-color":c(g)(c(q)(e.color,.5),100)},null,8,Nt),u("stop",{offset:"100%","stop-color":c(g)(e.color,80)},null,8,Bt)],8,jt))),256)),u("linearGradient",{x1:"0%",y1:"0%",x2:"0%",y2:"100%",id:`vertical_line_${x.value}`},Wt,8,Dt)])):y("",!0),t.value.style.chart.dataLabel.show&&![null,void 0].includes($.dataset.percentage)&&[null,void 0].includes($.dataset.series)?(s(),n("text",{key:1,x:o.value.width/2,y:o.value.top-t.value.style.chart.dataLabel.fontSize/2,"font-size":t.value.style.chart.dataLabel.fontSize,"font-weight":t.value.style.chart.dataLabel.bold?"bold":"normal",fill:t.value.style.chart.dataLabel.color,"text-anchor":"middle"},P(c(T)({v:O.value,s:"%",r:t.value.style.chart.dataLabel.rounding})),9,Lt)):y("",!0),W.value?(s(),n("g",{key:2,onClick:a[0]||(a[0]=e=>{W.value=!1,w.value=null}),"data-html2canvas-ignore":"",style:{cursor:"pointer"}},[u("rect",{x:o.value.width/2-6,y:o.value.top-20,height:12,width:12,fill:"transparent"},null,8,Ot),u("path",{d:`M${o.value.width/2-6},${o.value.top-20} ${o.value.width/2+6},${o.value.top-9}`,stroke:t.value.style.chart.color,"stroke-linecap":"round","stroke-width":"1"},null,8,Vt),u("path",{d:`M${o.value.width/2+6},${o.value.top-20} ${o.value.width/2-6},${o.value.top-9}`,stroke:t.value.style.chart.color,"stroke-linecap":"round","stroke-width":"1"},null,8,qt)])):y("",!0),!t.value.style.shape||t.value.style.shape==="bar"?(s(),n("g",Et,[F.value?y("",!0):(s(),n("g",At,[u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.right,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Rt),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.left,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Ut),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.side,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Xt),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.topSides,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Zt)])),F.value?y("",!0):(s(),n("g",Ht,[u("path",{d:A.value.right,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_right${x.value})`},null,8,Kt),u("path",{d:A.value.left,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_left${x.value})`},null,8,Qt),u("path",{d:A.value.top,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_top${x.value})`},null,8,Yt)])),F.value?(s(),n("g",Jt,[(s(!0),n(b,null,m(C.value,(e,v)=>(s(),n("g",{style:I(`opacity:${w.value?w.value===e.id?1:.3:1}`),class:"vue-ui-3d-bar-stack"},[u("path",{d:e.fill.right,fill:`url(#grad_right_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L},null,40,el),u("path",{d:e.fill.left,fill:`url(#grad_left_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L},null,40,tl),u("path",{d:e.fill.top,fill:`url(#grad_top_${e.id})`,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L},null,40,ll),u("path",{d:e.fill.liningTop,stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round",fill:"none",onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L},null,40,ol),u("path",{d:`M ${e.fill.apexTop.x},${e.fill.apexTop.y} ${e.fill.apexBottom.x},${e.fill.apexBottom.y}`,stroke:"#FFFFFF","stroke-width":"0.5","stroke-linecap":"round"},null,8,al)],4))),256)),(s(!0),n(b,null,m(C.value,(e,v)=>(s(),n("g",null,[v!==C.value.length-1?(s(),n("path",{key:0,d:e.fill.liningTopShade,stroke:t.value.style.chart.bar.shadeColor,"stroke-width":"0.5","stroke-linecap":"round",fill:"none",style:{"pointer-events":"none"}},null,8,rl)):y("",!0)]))),256)),(s(!0),n(b,null,m(C.value,(e,v)=>(s(),n("g",{style:I(`opacity:${w.value?w.value===e.id?1:0:e.proportion*100>t.value.style.chart.legend.hideUnderPercentage?1:0}`),onClick:l=>U("selectDatapoint",e)},[u("path",{stroke:t.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:`M${e.fill.sidePointer.x},${e.fill.sidePointer.y} ${e.fill.sidePointer.x+20},${e.fill.sidePointer.y}`},null,8,il),!e.fill.miniDonut||w.value?(s(),n("circle",{key:0,cx:e.fill.sidePointer.x+20,cy:e.fill.sidePointer.y,r:2,fill:e.color,stroke:t.value.style.chart.backgroundColor},null,8,ul)):y("",!0),(s(),n("foreignObject",{x:e.fill.sidePointer.x+30,y:e.fill.sidePointer.y-t.value.style.chart.legend.fontSize,width:o.value.absoluteWidth/2-12,height:t.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[t.value.style.chart.legend.showDefault?(s(),n("div",{key:0,style:I(`height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:${t.value.style.chart.legend.fontSize}px; text-align:left; line-height: ${t.value.style.chart.legend.fontSize}px; color:${t.value.style.chart.legend.color}`)},P(e.name)+": "+P(c(T)({v:e.proportion*100,s:"%",r:t.value.style.chart.legend.roundingPercentage}))+" ("+P(c(J)(t.value.style.chart.dataLabel.formatter,e.value,c(T)({p:t.value.style.chart.legend.prefix,v:e.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:v}))+") ",5)):y("",!0),j(r.$slots,"legend",te(le({datapoint:e,config:t.value,dataset:C.value})),void 0,!0)],8,nl)),e.fill.donut&&w.value===e.id?(s(),n("g",dl,[(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("g",null,[V(l,e.fill.donut,!0)>6?(s(),n("path",{key:0,d:c(_e)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,cl)):y("",!0)]))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":1},null,8,vl))),256)),u("defs",null,[u("radialGradient",{id:`hollow_gradient_${x.value}`},[u("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,pl),fl,u("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,yl)],8,hl)]),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:28,fill:`url(#hollow_gradient_${x.value})`},null,8,kl))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:14,fill:t.value.style.chart.backgroundColor},null,8,gl))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("g",null,[V(l,e.fill.donut,!0)>6?(s(),n("g",$l,[u("text",{"text-anchor":c(D)(l,!0,0).anchor,x:c(D)(l,!0,2).x,y:c(ee)(l,12,12),fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(V(l,e.fill.donut))+" ("+P(c(J)(t.value.style.chart.dataLabel.formatter,l.value,c(T)({p:t.value.style.chart.legend.prefix,v:l.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:i}))+") ",9,bl),u("text",{"text-anchor":c(D)(l).anchor,x:c(D)(l,!0,2).x,y:c(ee)(l,12,12)+t.value.style.chart.legend.fontSize/1.5,fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(l.name),9,ml)])):y("",!0)]))),256))])):y("",!0),e.fill.miniDonut&&!w.value?(s(),n("g",xl,[(s(!0),n(b,null,m(e.fill.miniDonut,(l,i)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":.5},null,8,wl))),256))])):y("",!0)],12,sl))),256))])):y("",!0)])):y("",!0),t.value.style.shape==="tube"?(s(),n("g",Cl,[F.value?y("",!0):(s(),n("g",_l,[u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeTop,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Fl),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeLeft,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Ml),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeRight,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Pl),u("path",{"stroke-dasharray":t.value.style.chart.box.strokeDasharray,d:N.value.tubeBottom,stroke:t.value.style.chart.box.stroke,"stroke-width":t.value.style.chart.box.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,Tl),u("path",{d:A.value.tubeTop,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_top${x.value})`},null,8,zl),u("path",{d:A.value.tubeBody,stroke:t.value.style.chart.bar.stroke,"stroke-width":t.value.style.chart.bar.strokeWidth,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_body${x.value})`},null,8,Sl)])),F.value?(s(),n("g",jl,[(s(!0),n(b,null,m(C.value,(e,v)=>(s(),n("g",{style:I(`opacity:${w.value?w.value===e.id?1:.3:1}`),class:"vue-ui-3d-bar-stack",onClick:l=>U("selectDatapoint",e)},[u("defs",null,[u("radialGradient",{id:`gradient_tube_top_${e.id}`,fx:"10%",cy:"55%"},[u("stop",{offset:"0%","stop-color":c(g)(c(q)(e.color,.5),80)},null,8,Dl),u("stop",{offset:"100%","stop-color":c(g)(c(Y)(e.color,.1),80)},null,8,Gl)],8,Bl),u("linearGradient",{id:`gradient_tube_body_${e.id}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},[u("stop",{offset:"0%","stop-color":`${e.color}`},null,8,Wl),u("stop",{offset:"10%","stop-color":c(g)(c(Y)(e.color,.7),100)},null,8,Ll),u("stop",{offset:"25%","stop-color":c(g)(c(Y)(e.color,.5),100)},null,8,Ol),u("stop",{offset:"75%","stop-color":c(g)(e.color,80)},null,8,Vl),u("stop",{offset:"100%","stop-color":c(g)(c(q)(e.color,.7),100)},null,8,ql)],8,Il)]),u("path",{onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L,d:e.fill.tubeBody,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_body_${e.id})`},null,40,El),v>0?(s(),n("path",{key:0,onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L,d:e.fill.bottomTubeTop,stroke:"#000000","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,40,Al)):y("",!0),u("path",{onMouseenter:l=>M(e),onClick:l=>M(e,!0),onMouseout:L,d:e.fill.tubeTop,stroke:"#FFFFFF","stroke-width":.5,"stroke-linejoin":"round","stroke-linecap":"round",fill:`url(#gradient_tube_top_${e.id})`},null,40,Rl)],12,Nl))),256)),(s(!0),n(b,null,m(C.value,(e,v)=>(s(),n("g",{style:I(`opacity:${w.value?w.value===e.id?1:0:e.proportion*100>t.value.style.chart.legend.hideUnderPercentage?1:0}`),onClick:l=>U("selectDatapoint",e)},[u("path",{stroke:t.value.style.chart.color,"stroke-dasharray":"1","stroke-width":"0.5","stroke-linecap":"round",d:`M${e.fill.sidePointer.x},${e.fill.sidePointer.y} ${e.fill.sidePointer.x+20},${e.fill.sidePointer.y}`},null,8,Xl),!e.fill.miniDonut||w.value?(s(),n("circle",{key:0,cx:e.fill.sidePointer.x+20,cy:e.fill.sidePointer.y,r:2,fill:e.color,stroke:t.value.style.chart.backgroundColor},null,8,Zl)):y("",!0),(s(),n("foreignObject",{x:e.fill.sidePointer.x+30,y:e.fill.sidePointer.y-t.value.style.chart.legend.fontSize,width:o.value.absoluteWidth/2-12,height:t.value.style.chart.legend.fontSize*2,style:{overflow:"visible",position:"relative"}},[t.value.style.chart.legend.showDefault?(s(),n("div",{key:0,style:I(`height: 100%; width: 100%; display: flex; flex-direction: row; flex-wrap: wrap; align-items:center;justify-content: flex-start; font-size:${t.value.style.chart.legend.fontSize}px; text-align:left; line-height: ${t.value.style.chart.legend.fontSize}px; color:${t.value.style.chart.legend.color}`)},P(e.name)+": "+P(c(T)({v:e.proportion*100,s:"%",r:t.value.style.chart.legend.roundingPercentage}))+" ("+P(c(J)(t.value.style.chart.dataLabel.formatter,e.value,c(T)({p:t.value.style.chart.legend.prefix,v:e.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:e,seriesIndex:v}))+") ",5)):y("",!0),j(r.$slots,"legend",te(le({datapoint:e,config:t.value,dataset:C.value})),void 0,!0)],8,Hl)),e.fill.donut&&w.value===e.id?(s(),n("g",Kl,[(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("g",null,[V(l,e.fill.donut,!0)>6?(s(),n("path",{key:0,d:c(_e)(l,{x:l.cx,y:l.cy},0,8,!1,!0,10),stroke:l.color,class:"vue-ui-donut-arc-path","stroke-width":"0.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,Ql)):y("",!0)]))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":1},null,8,Yl))),256)),u("defs",null,[u("radialGradient",{id:`hollow_gradient_${x.value}`},[u("stop",{offset:"0%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,eo),to,u("stop",{offset:"100%","stop-color":c(g)(t.value.style.chart.backgroundColor,0)},null,8,lo)],8,Jl)]),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:28,fill:`url(#hollow_gradient_${x.value})`},null,8,oo))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("circle",{class:"vue-ui-donut-arc-path",cx:l.cx,cy:l.cy,r:14,fill:t.value.style.chart.backgroundColor},null,8,ao))),256)),(s(!0),n(b,null,m(e.fill.donut,(l,i)=>(s(),n("g",null,[V(l,e.fill.donut,!0)>6?(s(),n("g",ro,[u("text",{"text-anchor":c(D)(l,!0,0).anchor,x:c(D)(l,!0,2).x,y:c(ee)(l,12,12),fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(V(l,e.fill.donut))+" ("+P(c(J)(t.value.style.chart.dataLabel.formatter,l.value,c(T)({p:t.value.style.chart.legend.prefix,v:l.value,s:t.value.style.chart.legend.suffix,r:t.value.style.chart.legend.roundingValue}),{datapoint:l,seriesIndex:i}))+") ",9,so),u("text",{"text-anchor":c(D)(l).anchor,x:c(D)(l,!0,2).x,y:c(ee)(l,12,12)+t.value.style.chart.legend.fontSize/1.5,fill:t.value.style.chart.legend.color,"font-size":t.value.style.chart.legend.fontSize/1.5},P(l.name),9,io)])):y("",!0)]))),256))])):y("",!0),e.fill.miniDonut&&!w.value?(s(),n("g",uo,[(s(!0),n(b,null,m(e.fill.miniDonut,(l,i)=>(s(),n("path",{class:"vue-ui-donut-arc-path",d:l.arcSlice,fill:`${l.color}`,stroke:t.value.style.chart.backgroundColor,"stroke-width":.5},null,8,no))),256))])):y("",!0)],12,Ul))),256))])):y("",!0)])):y("",!0),j(r.$slots,"svg",{svg:o.value},void 0,!0)],14,ct)):y("",!0),r.$slots.watermark?(s(),n("div",co,[j(r.$slots,"watermark",te(le({isPrinting:c(ce)||c(ve)})),void 0,!0)])):y("",!0),X.value?y("",!0):(s(),R(Ke,{key:4,config:{type:"bar3d",style:{backgroundColor:t.value.style.chart.backgroundColor,bar3d:{color:"#CCCCCC"}}}},null,8,["config"])),X.value&&F.value?(s(),R(Ye,{key:5,hideDetails:"",config:{open:Z.value.showTable,maxHeight:1e4,body:{backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color},head:{backgroundColor:t.value.style.chart.backgroundColor,color:t.value.style.chart.color}}},{content:G(()=>[(s(),R(Qe,{key:`table_${ne.value}`,colNames:H.value.colNames,head:H.value.head,body:H.value.body,config:H.value.config,title:`${t.value.style.chart.title.text}${t.value.style.chart.title.subtitle.text?` : ${t.value.style.chart.title.subtitle.text}`:""}`,onClose:a[1]||(a[1]=e=>Z.value.showTable=!1)},{th:G(({th:e})=>[u("div",{innerHTML:e,style:{display:"flex","align-items":"center"}},null,8,vo)]),td:G(({td:e})=>[rt(P(e.name||e),1)]),_:1},8,["colNames","head","body","config","title"]))]),_:1},8,["config"])):y("",!0)],12,nt))}},_o=et(ho,[["__scopeId","data-v-8a60c7c5"]]);export{_o as default};
